import{a6 as R,j as e,g as u,O as r,aM as y,aN as p,aO as j,B as f,aP as v,aQ as b,a4 as z,aK as D,b1 as C,a7 as k,aE as q}from"./chakra-sjIlidOs.js";import{u as $,b as S}from"./react-hBmrxY6U.js";import{I as W}from"./index.esm-mpiRtYyw.js";import{f as B,a as A,ao as F,ap as K,aq as Q,ar as G,af as x,T as J,H as U,l as M,m as P,b as l,S as X,as as Y,e as Z,a8 as _}from"./index-n8hSS7t-.js";import{m as h}from"./misc-nodes-oXRhV0Mx.js";import{s as N}from"./stations-kTz1iivL.js";const c={justifyContent:"flex-start",p:0,w:"100%",h:10},g={p:2.5,h:10},I={p:0,display:"flex",flexDirection:"column"},ee=e.jsx("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:e.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"2",stroke:"currentColor",strokeDasharray:"2",fill:"none"})}),ie=()=>{const{t}=$(),o=B(),{mode:n,theme:d,paletteAppClip:{output:i}}=A(s=>s.runtime),{preference:{unlockSimplePathAttempts:m,toolsPanel:{expand:a}}}=A(s=>s.app),O=R("white","var(--chakra-colors-gray-800)"),[V,T]=S.useState(!1);S.useEffect(()=>{V&&i&&(o(F(i)),T(!1))},[i==null?void 0:i.toString()]);const H=s=>o(x("station-".concat(s))),L=s=>o(x("line-".concat(s))),w=s=>o(x("misc-node-".concat(s)));return e.jsxs(u,{flexShrink:"0",direction:"column",width:a?450:10,maxWidth:"100%",height:"100%",bg:O,zIndex:"5",transition:"width 0.3s ease-in-out",children:[e.jsx(r,{"aria-label":"Menu",leftIcon:a?e.jsx(K,{size:40,transform:"rotate(90)"}):e.jsx(Q,{size:40,transform:"rotate(90)"}),onClick:()=>o(G(!a)),sx:c,children:a?t("panel.tools.showLess"):void 0}),e.jsx(u,{className:"tools",overflow:"auto",children:e.jsxs(y,{width:"100%",allowMultiple:!0,defaultIndex:[0,1,2],children:[e.jsx(r,{"aria-label":"select",leftIcon:ee,onClick:()=>o(x(n==="select"?"free":"select")),variant:n==="select"?"solid":"outline",sx:c,children:a?t("panel.tools.select"):void 0}),e.jsxs(p,{children:[e.jsxs(j,{sx:g,children:[a&&e.jsx(f,{as:"span",flex:"1",textAlign:"left",children:t("panel.tools.section.lineDrawing")}),e.jsx(v,{})]}),e.jsxs(b,{sx:I,children:[e.jsxs(u,{children:[e.jsx(J,{theme:d,onClick:()=>{T(!0),o(U(d))}}),e.jsx(z,{fontWeight:"600",pl:"1",alignSelf:"center",children:a?t("color"):void 0})]}),Object.values(M).filter(s=>!(s===M.Simple&&m>=0)).map(s=>e.jsx(r,{"aria-label":s,leftIcon:P[s].icon,onClick:()=>L(s),variant:n==="line-".concat(s)?"solid":"outline",sx:c,children:a?t(P[s].metadata.displayName):void 0},s)),e.jsx(r,{"aria-label":l.Virtual,leftIcon:h[l.Virtual].icon,onClick:()=>w(l.Virtual),variant:n==="misc-node-".concat(l.Virtual)?"solid":"outline",sx:c,children:a?t(h[l.Virtual].metadata.displayName):void 0})]})]}),e.jsxs(p,{children:[e.jsxs(j,{sx:g,children:[a&&e.jsx(f,{as:"span",flex:"1",textAlign:"left",children:t("panel.tools.section.stations")}),e.jsx(v,{})]}),e.jsxs(b,{sx:I,children:[Object.values(X).map(s=>e.jsx(r,{"aria-label":s,leftIcon:N[s].icon,onClick:()=>H(s),variant:n==="station-".concat(s)?"solid":"outline",sx:c,children:a?t(N[s].metadata.displayName):void 0},s)),e.jsx(E,{type:"station"})]})]}),e.jsxs(p,{children:[e.jsxs(j,{sx:g,children:[a&&e.jsx(f,{as:"span",flex:"1",textAlign:"left",children:t("panel.tools.section.miscellaneousNodes")}),e.jsx(v,{})]}),e.jsxs(b,{sx:I,children:[Object.values(l).filter(s=>s!==l.Virtual&&s!==l.I18nText).map(s=>e.jsx(r,{"aria-label":s,leftIcon:h[s].icon,onClick:()=>w(s),variant:n==="misc-node-".concat(s)?"solid":"outline",sx:c,children:a?t(h[s].metadata.displayName):void 0},s)),e.jsx(E,{type:"misc-node"})]})]})]})})]})},E=t=>{const{type:o}=t,{t:n}=$(),d=B(),i=o==="misc-node"?"nodes":o==="station"?"stations":"line-styles",m=o==="line"?"xs":void 0,a=o==="line"?"30px":"40px";return e.jsxs(D,{fontSize:m,children:[o!=="line"&&e.jsx(C.Provider,{value:{style:{padding:5},size:a},children:e.jsx(Y,{})}),e.jsx(k,{color:"teal.500",href:"https://github.com/railmapgen/rmp/blob/main/docs/".concat(i,".md"),isExternal:!0,children:n("panel.tools.learnHowToAdd.".concat(o))}),e.jsx(q,{as:Z,color:"teal.500",mr:"auto"}),e.jsx(k,{color:"teal.500",onClick:()=>d(_(!0)),isExternal:!0,children:n("panel.tools.learnHowToAdd.donate")}),o!=="line"&&e.jsx(C.Provider,{value:{style:{padding:5},color:"red",size:a},children:e.jsx(W,{})})]})};export{E as LearnHowToAdd,ie as default};
