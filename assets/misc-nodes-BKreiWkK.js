import{au as $,C as P,c as L,av as T,b as j,j as k,f as ae,a as ie,T as re,H as ce}from"./index-e5t-VPHi.js";import{j as n,aL as de,O as te,at as me,$ as he,au as ue,a1 as xe,a2 as pe,a3 as ge,a5 as fe}from"./chakra-D_OByU5d.js";import{b as i,u as U}from"./react-BuIY-1St.js";import{L as ye,M as oe,d as be,t as ee,c as je,f as Ne}from"./stations-D-dx1JPR.js";const Be=o=>{const{id:e,x:t,y:r,handlePointerDown:s,handlePointerMove:a,handlePointerUp:l}=o,m=i.useCallback(d=>s(e,d),[e,s]),c=i.useCallback(d=>a(e,d),[e,a]),h=i.useCallback(d=>l(e,d),[e,l]);return n.jsxs("g",{id:e,transform:"translate(".concat(t,", ").concat(r,")rotate(45)"),onPointerDown:m,onPointerMove:c,onPointerUp:h,style:{cursor:"move"},children:[n.jsx("line",{x1:"-5",y1:"0",x2:"5",y2:"0",stroke:"black"}),n.jsx("line",{x1:"0",y1:"-5",x2:"0",y2:"5",stroke:"black"}),n.jsx("circle",{id:"virtual_circle_".concat(e),r:5,stroke:"black",fill:"white",fillOpacity:"0"})]})},we={},Ce=()=>n.jsx($,{fields:[]}),Le=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,transform:"rotate(45)",focusable:!1,children:[n.jsx("circle",{cx:"12",cy:"12",r:"6",stroke:"currentColor",fill:"none"}),n.jsx("line",{x1:"6",y1:"12",x2:"18",y2:"12",stroke:"currentColor"}),n.jsx("line",{x1:"12",y1:"6",x2:"12",y2:"18",stroke:"currentColor"})]}),Se={component:Be,icon:Le,defaultAttrs:we,attrsComponent:Ce,metadata:{displayName:"panel.details.nodes.virtual.displayName",tags:[]}},ve=o=>{const{id:e,x:t,y:r,attrs:s,handlePointerDown:a,handlePointerMove:l,handlePointerUp:m}=o,{num:c=I.num,color:h=I.color}=s!=null?s:I,[d,g]=c>=10?[22.67,10.75]:[21,10],b=i.useCallback(u=>a(e,u),[e,a]),f=i.useCallback(u=>l(e,u),[e,l]),x=i.useCallback(u=>m(e,u),[e,m]);return n.jsxs("g",{id:e,transform:"translate(".concat(t,", ").concat(r,")"),onPointerDown:b,onPointerMove:f,onPointerUp:x,style:{cursor:"move"},children:[n.jsx("rect",{fill:h[2],width:d,height:"22.67"}),n.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:g,y:"19",fill:h[3],fontSize:"21.33",letterSpacing:"-1.75",children:c}),n.jsx("text",{className:"rmp-name__zh",x:d+2,y:"12",fontSize:"14.67",children:"号线"}),n.jsxs("text",{className:"rmp-name__en",x:d+4,y:"21.5",fontSize:"8",children:["Line ",c]})]})},I={num:1,color:[P.Shanghai,"sh1","#E4002B",L.white]},Pe=[{type:"input",label:"panel.details.nodes.common.num",value:o=>(o!=null?o:I).num,validator:o=>!Number.isNaN(o),onChange:(o,e)=>{const t=e!=null?e:I;return Number.isNaN(o)||(t.num=Number(o)),t}},{type:"custom",label:"color",component:n.jsx(T,{type:j.ShmetroNumLineBadge,defaultTheme:I.color})}],Te=()=>n.jsx($,{fields:Pe}),ze=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[n.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"10",height:"16"}),n.jsx("text",{x:"4",y:"18",fill:"white",children:"1"}),n.jsx("text",{x:"14",y:"10",fontSize:"5",children:"号线"}),n.jsx("text",{x:"14",y:"18",fontSize:"4",children:"Line 1"})]}),ke={component:ve,icon:ze,defaultAttrs:I,attrsComponent:Te,metadata:{displayName:"panel.details.nodes.shmetroNumLineBadge.displayName",tags:[]}},Ae=o=>{const{id:e,x:t,y:r,attrs:s,handlePointerDown:a,handlePointerMove:l,handlePointerUp:m}=o,{names:c=X.names,color:h=X.color}=s!=null?s:X,d=i.useRef(null),[g,b]=i.useState({width:12});i.useEffect(()=>b(d.current.getBBox()),[...c,b,d]);const f=i.useCallback(p=>a(e,p),[e,a]),x=i.useCallback(p=>l(e,p),[e,l]),u=i.useCallback(p=>m(e,p),[e,m]);return n.jsxs("g",{id:e,transform:"translate(".concat(t,", ").concat(r,")"),onPointerDown:f,onPointerMove:x,onPointerUp:u,style:{cursor:"move"},children:[n.jsx("rect",{fill:h[2],x:"0",width:g.width+7,height:"21"}),n.jsxs("g",{ref:d,children:[n.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",dominantBaseline:"hanging",x:(g.width+7)/2,y:"4",fontSize:"10",fill:h[3],letterSpacing:"-0.25",children:c[0]}),n.jsx("text",{className:"rmp-name__en",textAnchor:"middle",dominantBaseline:"hanging",x:(g.width+7)/2,y:"13",fontSize:"5",fill:h[3],letterSpacing:"-0.25",children:c[1]})]})]})},X={names:["浦江线","Pujiang Line"],color:[P.Shanghai,"pjl","#B5B5B6",L.white]},Me=o=>{const{id:e,attrs:t,handleAttrsUpdate:r}=o,{t:s}=U(),a=[{type:"textarea",label:s("panel.details.nodes.common.nameZh"),value:t.names[0],onChange:l=>{t.names[0]=l,r(e,t)},minW:"full"},{type:"input",label:s("panel.details.nodes.common.nameEn"),value:t.names[1],onChange:l=>{t.names[1]=l,r(e,t)},minW:"full"},{type:"custom",label:s("color"),component:n.jsx(T,{type:j.ShmetroTextLineBadge,defaultTheme:X.color})}];return n.jsx(k,{fields:a})},_e=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[n.jsx("rect",{fill:"currentColor",x:"2",y:"6",width:"20",height:"12"}),n.jsx("text",{x:"5",y:"11",fontSize:"5",fill:"white",children:"浦江线"}),n.jsx("text",{x:"3",y:"16",fontSize:"4",fill:"white",children:"Pujiang Line"})]}),$e={component:Ae,icon:_e,defaultAttrs:X,attrsComponent:Me,metadata:{displayName:"panel.details.nodes.shmetroTextLineBadge.displayName",tags:[]}},Ue=o=>{var u,p;const{id:e,x:t,y:r,attrs:s,handlePointerDown:a,handlePointerMove:l,handlePointerUp:m}=o,{names:c=D.names,color:h=D.color,tram:d=D.tram,span:g=D.span}=s!=null?s:D,b=i.useCallback(w=>a(e,w),[e,a]),f=i.useCallback(w=>l(e,w),[e,l]),x=i.useCallback(w=>m(e,w),[e,m]);return n.jsx("g",{id:e,transform:"translate(".concat(t,", ").concat(r,")scale(").concat(d?.5:1,")"),onPointerDown:b,onPointerMove:f,onPointerUp:x,style:{cursor:"move"},children:n.jsx(ye,{zhName:(u=c.at(0))!=null?u:"",enName:(p=c.at(1))!=null?p:"",zhClassName:"rmp-name__zh",enClassName:"rmp-name__en",foregroundColour:h[3],backgroundColour:h[2],spanDigits:g})})},D={names:["1号线","Line 1"],color:[P.Guangzhou,"gz1","#F3D03E",L.black],tram:!1,span:!0},De=o=>{const{id:e,attrs:t,handleAttrsUpdate:r}=o,{t:s}=U(),a=[{type:"input",label:s("panel.details.nodes.common.nameZh"),value:t.names[0],onChange:l=>{t.names[0]=l,r(e,t)},minW:"full"},{type:"input",label:s("panel.details.nodes.common.nameEn"),value:t.names[1],onChange:l=>{t.names[1]=l,r(e,t)},minW:"full"},{type:"switch",label:s("panel.details.nodes.gzmtrLineBadge.tram"),oneLine:!0,isChecked:t.tram,onChange:l=>{t.tram=l,r(e,t)},minW:"full"},{type:"switch",label:s("panel.details.nodes.gzmtrLineBadge.span"),oneLine:!0,isChecked:t.span,onChange:l=>{t.span=l,r(e,t)},minW:"full"},{type:"custom",label:s("color"),component:n.jsx(T,{type:j.GzmtrLineBadge,defaultTheme:D.color})}];return n.jsx(k,{fields:a})},Re=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[n.jsx("rect",{fill:"currentColor",x:"2",y:"5",width:"20",height:"14",rx:"1"}),n.jsx("text",{x:"6",y:"15",textAnchor:"middle",fontSize:"10",fill:"white",children:"1"}),n.jsx("text",{x:"15",y:"12",textAnchor:"middle",fontSize:"6",fill:"white",children:"号线"}),n.jsx("text",{x:"14.5",y:"17",textAnchor:"middle",fontSize:"4",fill:"white",children:"Line 1"})]}),Ee={component:Ue,icon:Re,defaultAttrs:D,attrsComponent:De,metadata:{displayName:"panel.details.nodes.gzmtrLineBadge.displayName",tags:[]}},J=11.84375,Ie=o=>{const{id:e,x:t,y:r,attrs:s,handlePointerDown:a,handlePointerMove:l,handlePointerUp:m}=o,{num:c=F.num,color:h=F.color}=s!=null?s:F,d=i.useCallback(x=>a(e,x),[e,a]),g=i.useCallback(x=>l(e,x),[e,l]),b=i.useCallback(x=>m(e,x),[e,m]),f=h[3]===L.black?"#003670":L.white;return n.jsxs("g",{id:e,transform:"translate(".concat(t,", ").concat(r,")"),onPointerDown:d,onPointerMove:g,onPointerUp:b,style:{cursor:"move"},children:[n.jsx("rect",{fill:h[2],x:"0",width:J+21,height:"16",rx:"2"}),n.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:J/2+2,y:"13.5",fill:f,fontSize:"15",letterSpacing:"-1.5",children:c}),n.jsx("text",{className:"rmp-name__zh",x:J+(c>9?5.5:3),y:"8.5",fontSize:"7",fill:f,children:"号线"}),n.jsxs("text",{className:"rmp-name__en",x:J+(c>9?6:4.5),y:"13.5",fontSize:"4",fill:f,children:["Line ",c]})]})},F={num:1,color:[P.Beijing,"bj1","#c23a30",L.white]},Fe=[{type:"input",label:"panel.details.nodes.common.num",value:o=>(o!=null?o:F).num,validator:o=>!Number.isNaN(o),onChange:(o,e)=>{const t=e!=null?e:F;return Number.isNaN(o)||(t.num=Number(o)),t}},{type:"custom",label:"color",component:n.jsx(T,{type:j.BjsubwayNumLineBadge,defaultTheme:F.color})}],We=()=>n.jsx($,{fields:Fe}),qe=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[n.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"20",height:"16",rx:"2"}),n.jsx("text",{x:"4",y:"17",fill:"white",fontSize:"14",children:"1"}),n.jsx("text",{x:"11",y:"11",fill:"white",fontSize:"5",children:"号线"}),n.jsx("text",{x:"11",y:"17",fill:"white",fontSize:"4",children:"Line 1"})]}),Oe={component:Ie,icon:qe,defaultAttrs:F,attrsComponent:We,metadata:{displayName:"panel.details.nodes.bjsubwayNumLineBadge.displayName",tags:[]}},He=28.84375,Ve=o=>{const{id:e,x:t,y:r,attrs:s,handlePointerDown:a,handlePointerMove:l,handlePointerUp:m}=o,{names:c=M.names,color:h=M.color}=s!=null?s:M,d=i.useRef(null),[g,b]=i.useState({width:12});i.useEffect(()=>b(d.current.getBBox()),[...c,b,d]);const f=i.useCallback(y=>a(e,y),[e,a]),x=i.useCallback(y=>l(e,y),[e,l]),u=i.useCallback(y=>m(e,y),[e,m]),p=Math.max(He,g.width),w=h[3]===L.black?"#003670":L.white;return n.jsxs("g",{id:e,transform:"translate(".concat(t,", ").concat(r,")"),onPointerDown:f,onPointerMove:x,onPointerUp:u,style:{cursor:"move"},children:[n.jsx("rect",{fill:h[2],x:"0",width:p+4,height:"16",rx:"2"}),n.jsxs("g",{ref:d,children:[n.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:(p+4)/2,y:"8",fontSize:"7",fill:w,children:c[0]}),n.jsx("text",{className:"rmp-name__en",textAnchor:"middle",x:(p+4)/2,y:"13.5",fontSize:"4",fill:w,children:c[1]})]})]})},M={names:["八通线","Batong Line"],color:[P.Beijing,"bj1","#c23a30",L.white]},Xe=[{type:"input",label:"panel.details.nodes.common.nameZh",value:o=>(o!=null?o:M).names[0],onChange:(o,e)=>{const t=e!=null?e:M;return t.names[0]=o.toString(),t}},{type:"input",label:"panel.details.nodes.common.nameEn",value:o=>(o!=null?o:M).names[1],onChange:(o,e)=>{const t=e!=null?e:M;return t.names[1]=o.toString(),t}},{type:"custom",label:"color",component:n.jsx(T,{type:j.BjsubwayTextLineBadge,defaultTheme:M.color})}],Qe=()=>n.jsx($,{fields:Xe}),Je=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[n.jsx("rect",{fill:"currentColor",x:"2",y:"6",width:"20",height:"12",rx:"2"}),n.jsx("text",{x:"3",y:"12",fontSize:"6",fill:"white",children:"八通线"}),n.jsx("text",{x:"3",y:"16",fontSize:"3.2",fill:"white",children:"Batong Line"})]}),Ze={component:Ve,icon:Je,defaultAttrs:M,attrsComponent:Qe,metadata:{displayName:"panel.details.nodes.bjsubwayTextLineBadge.displayName",tags:[]}},Ge=o=>{const{id:e,x:t,y:r,attrs:s,handlePointerDown:a,handlePointerMove:l,handlePointerUp:m}=o,{num:c=z.num,branch:h=z.branch,color:d=z.color}=s!=null?s:z,g=i.useCallback(x=>a(e,x),[e,a]),b=i.useCallback(x=>l(e,x),[e,l]),f=i.useCallback(x=>m(e,x),[e,m]);return n.jsxs("g",{id:e,transform:"translate(".concat(t,", ").concat(r,")"),onPointerDown:g,onPointerMove:b,onPointerUp:f,style:{cursor:"move"},children:[n.jsx("rect",{fill:d[2],width:"20",height:"20",rx:"2",ry:"2"}),n.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",dominantBaseline:"middle",x:"10",y:"11.4",fill:d[3],fontSize:"15",letterSpacing:"-1",children:c}),h&&n.jsxs(n.Fragment,{children:[n.jsx("text",{className:"rmp-name__zh",x:20+2.5,y:"10",fontSize:"10",children:"支线"}),n.jsx("text",{className:"rmp-name__en",x:20+2.5,y:"18",fontSize:"5",fill:"gray",children:"Branch line"})]})]})},z={num:1,branch:!1,color:[P.Suzhou,"sz1","#78BA25",L.white]},Ye=[{type:"input",label:"panel.details.nodes.common.num",value:o=>(o!=null?o:z).num,validator:o=>!Number.isNaN(o),onChange:(o,e)=>{const t=e!=null?e:z;return Number.isNaN(o)||(t.num=Number(o)),t}},{type:"switch",label:"panel.details.nodes.suzhouRTNumLineBadge.branch",isChecked:o=>{var e;return(e=o==null?void 0:o.branch)!=null?e:z.branch},onChange:(o,e)=>{const t=e!=null?e:z;return t.branch=o,t}},{type:"custom",label:"color",component:n.jsx(T,{type:j.SuzhouRTNumLineBadge,defaultTheme:z.color})}],Ke=()=>n.jsx($,{fields:Ye}),en=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[n.jsx("rect",{fill:"currentColor",x:"4",y:"4",width:"16",height:"16",rx:"3",ry:"3"}),n.jsx("text",{x:"12",y:"13.4",textAnchor:"middle",dominantBaseline:"middle",fill:"white",fontSize:"14",children:"1"})]}),nn={component:Ge,icon:en,defaultAttrs:z,attrsComponent:Ke,metadata:{displayName:"panel.details.nodes.suzhouRTNumLineBadge.displayName",tags:[]}},tn=o=>{const{id:e,x:t,y:r,attrs:s,handlePointerDown:a,handlePointerMove:l,handlePointerUp:m}=o,{num:c=W.num,color:h=W.color}=s!=null?s:W,d=i.useCallback(x=>a(e,x),[e,a]),g=i.useCallback(x=>l(e,x),[e,l]),b=i.useCallback(x=>m(e,x),[e,m]),f=h[3];return n.jsxs("g",{id:e,transform:"translate(".concat(t,", ").concat(r,")"),onPointerDown:d,onPointerMove:g,onPointerUp:b,style:{cursor:"move"},children:[n.jsx("rect",{fill:h[2],x:"0",width:"25",height:"15"}),n.jsxs("text",{className:"rmp-name__berlin",textAnchor:"middle",x:"12.5",y:"12.5",fill:f,fontSize:"14",letterSpacing:"1",children:["U",c]})]})},W={num:1,color:[P.Berlin,"bu1","#62AD2D",L.white]},on=[{type:"input",label:"panel.details.nodes.common.num",value:o=>(o!=null?o:W).num,validator:o=>!Number.isNaN(o),onChange:(o,e)=>{const t=e!=null?e:W;return Number.isNaN(o)||(t.num=Number(o)),t}},{type:"custom",label:"color",component:n.jsx(T,{type:j.BerlinUBahnLineBadge,defaultTheme:W.color})}],sn=()=>n.jsx($,{fields:on}),ln=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[n.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"20",height:"16"}),n.jsx("text",{x:"4",y:"17",fill:"white",fontSize:"14",children:"U1"})]}),an={component:tn,icon:ln,defaultAttrs:W,attrsComponent:sn,metadata:{displayName:"panel.details.nodes.berlinUBahnLineBadge.displayName",tags:[]}},rn=o=>{const{id:e,x:t,y:r,attrs:s,handlePointerDown:a,handlePointerMove:l,handlePointerUp:m}=o,{num:c=q.num,color:h=q.color}=s!=null?s:q,[d,g]=c>=10?[6,19.75]:[10,20],b=i.useCallback(p=>a(e,p),[e,a]),f=i.useCallback(p=>l(e,p),[e,l]),x=i.useCallback(p=>m(e,p),[e,m]),u=h[3];return n.jsxs("g",{id:e,transform:"translate(".concat(t,", ").concat(r,")"),onPointerDown:b,onPointerMove:f,onPointerUp:x,style:{cursor:"move"},children:[n.jsx("rect",{fill:h[2],x:"0",width:"30",height:"15",rx:"8"}),n.jsx("text",{className:"rmp-name__berlin",textAnchor:"middle",x:d,y:"12.5",fill:u,fontSize:"14",letterSpacing:"0",children:"S"}),n.jsx("text",{className:"rmp-name__berlin",textAnchor:"middle",x:g,y:"12.5",fill:u,fontSize:"14",letterSpacing:"-0.2",children:c})]})},q={num:1,color:[P.Berlin,"bs1","#DD6CA6",L.white]},cn=[{type:"input",label:"panel.details.nodes.common.num",value:o=>(o!=null?o:q).num,validator:o=>!Number.isNaN(o),onChange:(o,e)=>{const t=e!=null?e:q;return Number.isNaN(o)||(t.num=Number(o)),t}},{type:"custom",label:"color",component:n.jsx(T,{type:j.BerlinSBahnLineBadge,defaultTheme:q.color})}],dn=()=>n.jsx($,{fields:cn}),mn=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[n.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"20",height:"16",rx:"8"}),n.jsx("text",{x:"4.5",y:"16.5",fill:"white",fontSize:"14",children:"S1"})]}),hn={component:rn,icon:mn,defaultAttrs:q,attrsComponent:dn,metadata:{displayName:"panel.details.nodes.berlinSBahnLineBadge.displayName",tags:[]}},un=o=>{const{id:e,x:t,y:r,attrs:s,handlePointerDown:a,handlePointerMove:l,handlePointerUp:m}=o,{num:c=O.num,color:h=O.color}=s!=null?s:O,d=i.useCallback(w=>a(e,w),[e,a]),g=i.useCallback(w=>l(e,w),[e,l]),b=i.useCallback(w=>m(e,w),[e,m]),f=h[3],x=Number.isInteger(c)?16:15,[u,p]=Number.isInteger(c)?Number(c)>=10?[-1.2,1.5]:[0,5.5]:[0,2.55];return n.jsxs("g",{id:e,transform:"translate(".concat(t,", ").concat(r,")"),onPointerDown:d,onPointerMove:g,onPointerUp:b,style:{cursor:"move"},children:[n.jsx("rect",{fill:h[2],x:"0",width:"20",height:"20",rx:"10",ry:"10"}),n.jsx("text",{className:"rmp-name__zh",textAnchor:"left",x:p,y:"10",fill:f,fontSize:x,letterSpacing:u,dominantBaseline:"central",children:c})]})},O={num:1,color:[P.Chongqing,"cq1","#e4002b",L.white]},xn=[{type:"input",label:"panel.details.nodes.common.num",value:o=>(o!=null?o:O).num,validator:o=>!Number.isNaN(o),onChange:(o,e)=>{const t=e!=null?e:O;return Number.isNaN(Number(o))?t.num=o:t.num=Number(o),t}},{type:"custom",label:"color",component:n.jsx(T,{type:j.ChongqingRTNumLineBadge,defaultTheme:O.color})}],pn=()=>n.jsx($,{fields:xn}),gn=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[n.jsx("rect",{fill:"currentColor",x:"2",y:"2",rx:"10",ry:"10",width:"20",height:"20"}),n.jsx("text",{x:"8",y:"18",fill:"white",fontSize:"18",children:"1"})]}),fn={component:un,icon:gn,defaultAttrs:O,attrsComponent:pn,metadata:{displayName:"panel.details.nodes.chongqingRTNumLineBadge.displayName",tags:[]}},yn=o=>{const{id:e,x:t,y:r,attrs:s,handlePointerDown:a,handlePointerMove:l,handlePointerUp:m}=o,{names:c=_.names,color:h=_.color}=s!=null?s:_,d=i.useRef(null),g=i.useCallback(u=>a(e,u),[e,a]),b=i.useCallback(u=>l(e,u),[e,l]),f=i.useCallback(u=>m(e,u),[e,m]),x=h[3];return n.jsxs("g",{id:e,transform:"translate(".concat(t,", ").concat(r,")"),onPointerDown:g,onPointerMove:b,onPointerUp:f,style:{cursor:"move"},children:[n.jsx("rect",{fill:h[2],x:"0",width:"20",height:"20",rx:"10",ry:"10"}),n.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:"10",y:"10.5",fill:x,fontSize:"6",letterSpacing:"0",children:c[0]}),n.jsx(oe,{ref:d,text:c[1].split("\n"),className:"rmp-name__en",textAnchor:"middle",x:"10",y:"9.25",fill:x,fontSize:"2.5",letterSpacing:"0",lineHeight:2.25,grow:"down"})]})},_={names:["空港线","Konggang Line"],color:[P.Chongqing,"cq3","#003da5",L.white]},bn=[{type:"input",label:"panel.details.nodes.common.nameZh",value:o=>(o!=null?o:_).names[0],onChange:(o,e)=>{const t=e!=null?e:_;return t.names[0]=o.toString(),t}},{type:"textarea",label:"panel.details.nodes.common.nameEn",value:o=>(o!=null?o:_).names[1],onChange:(o,e)=>{const t=e!=null?e:_;return t.names[1]=o.toString(),t}},{type:"custom",label:"color",component:n.jsx(T,{type:j.ChongqingRTTextLineBadge,defaultTheme:_.color})}],jn=()=>n.jsx($,{fields:bn}),Nn=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[n.jsx("rect",{fill:"currentColor",x:"2",y:"2",rx:"10",ry:"10",width:"20",height:"20"}),n.jsx("text",{x:"4.5",y:"12.5",fill:"white",fontSize:"5",children:"空港线"}),n.jsx("text",{x:"4.5",y:"15",fill:"white",fontSize:"2",children:"Konggang Line"})]}),Bn={component:yn,icon:Nn,defaultAttrs:_,attrsComponent:jn,metadata:{displayName:"panel.details.nodes.chongqingRTTextLineBadge.displayName",tags:[]}},Z=11.84375,wn=o=>{const{id:e,x:t,y:r,attrs:s,handlePointerDown:a,handlePointerMove:l,handlePointerUp:m}=o,{num:c=H.num,color:h=H.color,isBranch:d=H.isBranch}=s!=null?s:H,g=i.useCallback(B=>a(e,B),[e,a]),b=i.useCallback(B=>l(e,B),[e,l]),f=i.useCallback(B=>m(e,B),[e,m]),x=h[3]===L.black?"#003670":L.white,u=d?10:Z+(c>9?6.5:3),p=d?-1:0,w=d?11:Z+(c>9?7:3.5),y=d?6:Z/2+4;return n.jsxs("g",{id:e,transform:"translate(".concat(t,", ").concat(r,")"),onPointerDown:g,onPointerMove:b,onPointerUp:f,style:{cursor:"move"},children:[n.jsx("rect",{fill:h[2],x:"0",width:Z+21,height:"16",rx:"2"}),n.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:y,y:"13.5",fill:x,fontSize:"15",letterSpacing:"-1",children:c}),n.jsxs("text",{className:"rmp-name__zh",x:u,y:"9.5",fontSize:"6",fill:x,letterSpacing:p,children:["号线",d?"支线":""]}),n.jsxs("text",{className:"rmp-name__en",x:w,y:"13.5",fontSize:"3",fill:x,children:[d?"Branch":""," Line ",c]})]})},H={num:1,color:[P.Shenzhen,"sz1","#00b140",L.white],isBranch:!1},Cn=o=>{const{id:e,attrs:t,handleAttrsUpdate:r}=o,{t:s}=U(),a=[{type:"input",label:s("panel.details.nodes.common.num"),value:String(t.num),validator:l=>!Number.isNaN(l),onChange:l=>{t.num=Number(l),r(e,t)},minW:"full"},{type:"custom",label:s("color"),component:n.jsx(T,{type:j.ShenzhenMetroNumLineBadge,defaultTheme:H.color}),minW:"full"},{type:"switch",label:s("panel.details.nodes.shenzhenMetroNumLineBadge.branch"),oneLine:!0,isChecked:t.isBranch,onChange:l=>{t.isBranch=l,r(e,t)},minW:"full"}];return n.jsx(k,{fields:a})},Ln=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[n.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"20",height:"16",rx:"2"}),n.jsx("text",{x:"4",y:"17",fill:"white",fontSize:"14",children:"1"}),n.jsx("text",{x:"11",y:"14",fill:"white",fontSize:"5",children:"号线"}),n.jsx("text",{x:"12",y:"17",fill:"white",fontSize:"3",children:"Line 1"})]}),Sn={component:wn,icon:Ln,defaultAttrs:H,attrsComponent:Cn,metadata:{displayName:"panel.details.nodes.shenzhenMetroNumLineBadge.displayName",tags:[]}},vn=o=>{const{id:e,x:t,y:r,attrs:s,handlePointerDown:a,handlePointerMove:l,handlePointerUp:m}=o,{num:c=Q.num,color:h=Q.color}=s!=null?s:Q,d=i.useCallback(u=>a(e,u),[e,a]),g=i.useCallback(u=>l(e,u),[e,l]),b=i.useCallback(u=>m(e,u),[e,m]),f=h[3],x=h[2];return n.jsxs("g",{id:e,transform:"translate(".concat(t,", ").concat(r,")"),onPointerDown:d,onPointerMove:g,onPointerUp:b,style:{cursor:"move"},children:[n.jsx("circle",{r:"8",fill:x}),n.jsx("text",{className:"rmp-name__mrt",textAnchor:"middle",x:"0",y:"0",width:"12",height:"12",fill:f,fontSize:"12",dominantBaseline:"central",letterSpacing:"-0.2",children:c})]})},Q={num:1,color:[P.Singapore,"ewl","#009739",L.white]},Pn=o=>{const{id:e,attrs:t,handleAttrsUpdate:r}=o,{t:s}=U(),a=[{type:"input",label:s("panel.details.nodes.common.num"),value:String(t.num),validator:l=>!Number.isNaN(l),onChange:l=>{t.num=Number(l),r(e,t)},minW:"full"},{type:"custom",label:s("color"),component:n.jsx(T,{type:j.MRTDestinationNumbers,defaultTheme:Q.color}),minW:"full"}];return n.jsx(k,{fields:a})},Tn=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[n.jsx("rect",{fill:"currentColor",x:"2",y:"2",rx:"10",ry:"10",width:"20",height:"20"}),n.jsx("text",{x:"9",y:"17",fill:"white",fontSize:"14",children:"1"})]}),zn={component:vn,icon:Tn,defaultAttrs:Q,attrsComponent:Pn,metadata:{displayName:"panel.details.nodes.mrtDestinationNumbers.displayName",tags:[]}},G=4,ne=7,Y=10,le=5,kn=5,v=kn*Math.SQRT1_2,se=.25,K=(v*Math.SQRT2-se)/2*Math.SQRT2,An=o=>{const{id:e,x:t,y:r,attrs:s,handlePointerDown:a,handlePointerMove:l,handlePointerUp:m}=o,{names:c=R.names,num:h=R.num,color:d=R.color,crosshatchPatternFill:g=R.crosshatchPatternFill}=s!=null?s:R,b=i.useRef(null),[f,x]=i.useState({height:10,width:12});i.useEffect(()=>x(b.current.getBBox()),[...c,x,b]);const u=i.useCallback(y=>a(e,y),[e,a]),p=i.useCallback(y=>l(e,y),[e,l]),w=i.useCallback(y=>m(e,y),[e,m]);return n.jsxs("g",{id:e,transform:"translate(".concat(t,", ").concat(r,")"),onPointerDown:u,onPointerMove:p,onPointerUp:w,style:{cursor:"move"},children:[n.jsxs("defs",{children:[n.jsxs("clipPath",{id:"jr_east_fill_pattern_clip_path",patternUnits:"userSpaceOnUse",children:[n.jsx("polygon",{points:"0,0 0,".concat(K," ").concat(K,",0")}),n.jsx("polygon",{points:"".concat(v,",").concat(v," ").concat(v-K,",").concat(v," ").concat(v,",").concat(v-K)})]}),n.jsxs("pattern",{id:"jr_east_".concat(e,"_fill_pattern_").concat(d[2]),width:v,height:v,patternUnits:"userSpaceOnUse",children:[n.jsx("rect",{width:v,height:v,fill:d[2]}),n.jsx("line",{x1:"0",y1:"0",x2:v,y2:v,stroke:"white",strokeWidth:se,strokeOpacity:"33%",clipPath:"url(#jr_east_fill_pattern_clip_path)"}),n.jsx("line",{x1:v,y1:"0",x2:"0",y2:v,stroke:"white",strokeWidth:se,strokeOpacity:"33%"})]})]}),n.jsx("rect",{fill:g?"url(#jr_east_".concat(e,"_fill_pattern_").concat(d[2],")"):d[2],x:"0",y:"-1",width:f.width+G+10,height:f.height+1,rx:"1",stroke:"black",strokeWidth:"0.25"}),n.jsx("circle",{r:G,cx:ne,cy:Y/2+1,stroke:"black",strokeWidth:"0.25",fill:d[3]}),n.jsx("text",{x:ne,y:Y/2+1.75,textAnchor:"middle",dominantBaseline:"middle",fill:d[3]==="#000"?"white":d[2],fontSize:h>9?7:8,className:"rmp-name__jreast_en",children:h}),n.jsx(oe,{ref:b,text:c[0].split("\\"),x:ne+G+1,y:"-1",fill:d[3],fontSize:Y,lineHeight:Y,grow:"down",className:"rmp-name__jreast_ja"}),n.jsx(oe,{text:c[1].split("\\"),textAnchor:"middle",dominantBaseline:"hanging",x:(f.width+G+10)/2,y:f.height+1,fontSize:le,lineHeight:le,baseOffset:0,grow:"down",className:"rmp-name__jreast_en"})]})},R={names:["山手線","Yamanote Line"],color:[P.Tokyo,"jy","#9ACD32",L.black],num:9,crosshatchPatternFill:!1},Mn=o=>{const{id:e,attrs:t,handleAttrsUpdate:r}=o,{t:s}=U(),a=[{type:"input",label:s("panel.details.nodes.common.num"),value:String(t.num),validator:l=>!Number.isNaN(l),onChange:l=>{t.num=Number(l),r(e,t)},minW:"full"},{type:"textarea",label:s("panel.details.nodes.common.nameJa"),value:t.names[0].replaceAll("\\","\n"),onChange:l=>{t.names[0]=l.replaceAll("\n","\\"),r(e,t)},minW:"full"},{type:"textarea",label:s("panel.details.nodes.common.nameEn"),value:t.names[1].replaceAll("\\","\n"),onChange:l=>{t.names[1]=l.replaceAll("\n","\\"),r(e,t)},minW:"full"},{type:"switch",label:s("panel.details.nodes.jrEastLineBadge.crosshatchPatternFill"),oneLine:!0,isChecked:t.crosshatchPatternFill,onChange:l=>{t.crosshatchPatternFill=l,r(e,t)},minW:"full"},{type:"custom",label:s("color"),component:n.jsx(T,{type:j.JREastLineBadge,defaultTheme:R.color})}];return n.jsx(k,{fields:a})},_n=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[n.jsx("rect",{fill:"currentColor",x:"1",y:"6",width:"22",height:"7"}),n.jsx("circle",{cx:"3.5",cy:"9.25",r:"2",fill:"white"}),n.jsx("text",{x:"3",y:"10.5",fontSize:"3",children:"9"}),n.jsx("text",{x:"6",y:"11.25",fontSize:"5",fill:"white",children:"山手線"}),n.jsx("text",{x:"1.5",y:"16",fontSize:"3",children:"Yamanote Line"})]}),$n={component:An,icon:_n,defaultAttrs:R,attrsComponent:Mn,metadata:{displayName:"panel.details.nodes.jrEastLineBadge.displayName",tags:[]}},Un=o=>{const{id:e,x:t,y:r,attrs:s,handlePointerDown:a,handlePointerMove:l,handlePointerUp:m}=o,{num:c=E.num,numEn:h=E.numEn,color:d=E.color,showText:g=E.showText}=s!=null?s:E,b=i.useCallback(N=>a(e,N),[e,a]),f=i.useCallback(N=>l(e,N),[e,l]),x=i.useCallback(N=>m(e,N),[e,m]),u=d[3],[p,w,y,B]=Number(c)>=10?[-2.4,0,10.25,20]:[0,4,10,22];return n.jsxs("g",{id:e,transform:"translate(".concat(t,", ").concat(r,")"),onPointerDown:b,onPointerMove:f,onPointerUp:x,style:{cursor:"move"},children:[n.jsx("rect",{fill:d[2],x:"0",width:"20",height:"20",rx:"2",ry:"2"}),n.jsx("text",{className:"rmp-name__zh",textAnchor:"left",x:w,y,fill:u,fontSize:B,fontWeight:"bold",letterSpacing:p,dominantBaseline:"central",children:c}),g&&n.jsxs(n.Fragment,{children:[n.jsx("text",{className:"rmp-name__zh",x:"22",y:"10.5",fontSize:"13",children:"号线"}),n.jsxs("text",{className:"rmp-name__en",x:"22.5",y:"19.5",fontSize:"8",children:["Line ",h]})]})]})},E={num:1,numEn:"1",showText:!0,color:[P.Qingdao,"qd1","#f7b000",L.white]},Dn=o=>{const{id:e,attrs:t,handleAttrsUpdate:r}=o,{t:s}=U(),a=[{type:"input",label:s("panel.details.nodes.common.num"),value:t.num.toString(),onChange:l=>{t.num=Number(l),t.numEn=l,r(e,t)}},{type:"input",label:s("panel.details.nodes.qingdaoMetroNumLineBadge.numEn"),value:t.numEn.toString(),onChange:l=>{t.numEn=l,r(e,t)}},{type:"switch",label:s("panel.details.nodes.qingdaoMetroNumLineBadge.showText"),isChecked:t.showText,oneLine:!0,onChange:l=>{t.showText=l,r(e,t)}},{type:"custom",label:s("color"),component:n.jsx(T,{type:j.QingdaoMetroNumLineBadge,defaultTheme:E.color})}];return n.jsx(k,{fields:a,minW:"full"})},Rn=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[n.jsx("rect",{fill:"currentColor",x:"2",y:"6",rx:"1",ry:"1",width:"10",height:"10"}),n.jsx("text",{x:"4",y:"15",fill:"white",fontSize:"12",children:"1"}),n.jsx("text",{x:"12",y:"11.5",fill:"black",fontSize:"6",children:"号线"}),n.jsx("text",{x:"12",y:"15.5",fill:"black",fontSize:"4",children:"Line1"})]}),En={component:Un,icon:Rn,defaultAttrs:E,attrsComponent:Dn,metadata:{displayName:"panel.details.nodes.qingdaoMetroNumLineBadge.displayName",tags:[]}},In=o=>{const{id:e,x:t,y:r,attrs:s,handlePointerDown:a,handlePointerMove:l,handlePointerUp:m}=o,c=je();s.content=c(s.contents);const h=ee.component;return n.jsx(h,{id:e,x:t,y:r,handlePointerDown:a,handlePointerMove:l,handlePointerUp:m,attrs:s})},Fn={contents:{},...be},Wn={component:In,icon:ee.icon,defaultAttrs:Fn,attrsComponent:ee.attrsComponent,metadata:{displayName:"panel.details.nodes.i18nText.displayName",tags:[]}},qn=o=>{const{id:e,x:t,y:r,attrs:s,handlePointerDown:a,handlePointerMove:l,handlePointerUp:m}=o,c=i.useCallback(u=>a(e,u),[e,a]),h=i.useCallback(u=>l(e,u),[e,l]),d=i.useCallback(u=>m(e,u),[e,m]),g=(u,...p)=>new Function(...p,"return ".concat(u)),b=(u,p,w)=>{var B;const y={};for(const N in u)if(Object.prototype.hasOwnProperty.call(u,N))try{y[N]=g(u[N],...s.components.map(C=>C.label),"color")(...p.map((C,A)=>w[A]==="number"&&!Number.isNaN(Number(C))?Number(C):C),s.color?(B=s.color.value)!=null?B:s.color.defaultValue:"")}catch(C){y[N]=""}return y},f=s.nodeType==="MiscNode"?{onPointerDown:c,onPointerMove:h,onPointerUp:d,style:{cursor:"move"}}:{},x=u=>u.map(p=>{var B,N;const w=s.nodeType==="Station"&&s.core&&s.core===p.id?{id:"stn_core_".concat(e),onPointerDown:c,onPointerMove:h,onPointerUp:d,style:{cursor:"move"}}:{},y=b(p.attrs,s.components.map(C=>C.value),s.components.map(C=>C.type));return n.jsx("g",{transform:"translate(".concat((B=y.x)!=null?B:0,", ").concat((N=y.y)!=null?N:0,")"),children:i.createElement(p.type,{...y,x:0,y:0,...w},p.children?x(p.children):"_rmp_children_text"in y?y._rmp_children_text:null)},p.id)});return i.createElement("g",{id:e,transform:"translate(".concat(t,", ").concat(r,")"),...f},s.randomId!=="undefined"?x(s.svgs):n.jsxs(n.Fragment,{children:[n.jsx("circle",{r:5}),n.jsx("text",{x:-3.75,y:3,fill:"white",fontSize:"8",fontWeight:"bold",children:"M"})]}))},On={randomId:"undefined",nodeType:"MiscNode",svgs:[],components:[]},Hn=o=>{const{isOpen:e,onClose:t,onSubmit:r}=o,{t:s}=U(),[a,l]=i.useState(""),[m,c]=i.useState(""),h=[{type:"textarea",label:s("Paste json from RMP style generator"),value:a.toString(),onChange:g=>l(g),minW:"full"}],d=()=>{try{r(a)}catch(g){c("Something went wrong.");return}t()};return i.useEffect(()=>c(""),[e]),n.jsxs(me,{isOpen:e,onClose:t,size:"xl",scrollBehavior:"inside",children:[n.jsx(he,{}),n.jsxs(ue,{children:[n.jsx(xe,{children:s("Upload master parameter")}),n.jsx(pe,{}),n.jsxs(ge,{children:[n.jsx(k,{fields:h}),n.jsx("span",{style:{color:"red"},children:m})]}),n.jsxs(fe,{children:[n.jsx(te,{colorScheme:"blue",variant:"outline",mr:"1",onClick:t,children:s("cancel")}),n.jsx(te,{colorScheme:"blue",variant:"outline",mr:"1",onClick:d,children:s("apply")})]})]})]})},Vn=o=>{var w;const{id:e,attrs:t,handleAttrsUpdate:r}=o,s=ae(),a=de(),{paletteAppClip:{output:l}}=ie(y=>y.runtime),{t:m}=U(),[c,h]=i.useState(!1),d=y=>{t.components.forEach(B=>{var N;if(B.id===y)return(N=B.value)!=null?N:B.defaultValue})},g=y=>{const B=JSON.parse(y),N={randomId:B.id,nodeType:B.type,svgs:B.svgs,components:B.components,color:B.color,core:B.core,version:B.version};if(!N.version){a({title:"Outdated configuration!",status:"error",duration:9e3,isClosable:!0});return}N.components.forEach((C,A)=>{var S;N.components[A].value=(S=d(C.id))!=null?S:C.defaultValue}),N.svgs.forEach((C,A)=>{for(const S in C.attrs)Object.prototype.hasOwnProperty.call(C.attrs,S)&&(N.svgs[A].attrs[S]=C.attrs[S].slice(1))}),N.color!==void 0&&(N.color.value=t.color?t.color.value:N.color.defaultValue),r(e,N)},b=[{type:"output",label:"Master Type",value:t.randomId},{type:"custom",label:"",component:n.jsx(te,{onClick:()=>h(!0),children:"Upload"}),oneLine:!0}],f=t.components.map((y,B)=>{const{label:N,type:C,defaultValue:A,value:S}=y;return C==="number"||C==="text"?{label:N,type:"input",value:S!=null?S:A,onChange:V=>{t.components[B].value=V,r(e,{...t,components:t.components})}}:C==="switch"?{label:N,type:"switch",isChecked:(S!=null?S:A)==="true",onChange:V=>{t.components[B].value=V,r(e,{...t,components:t.components})}}:C==="textarea"?{label:N,type:"textarea",value:S!=null?S:A,onChange:V=>{t.components[B].value=V,r(e,{...t,components:t.components})}}:{type:"input",label:"undefined",value:"none"}}),[x,u]=i.useState(!1);i.useEffect(()=>{t.color&&x&&l&&(t.color.value=l,r(e,{...t,color:t.color}),u(!1))},[l==null?void 0:l.toString()]);const p=[{type:"custom",label:m("color"),component:n.jsx(re,{theme:(w=t.color)==null?void 0:w.value,onClick:()=>{var y;u(!0),s(ce((y=t.color)==null?void 0:y.value))}})}];return n.jsxs(n.Fragment,{children:[n.jsx(k,{fields:b}),t.randomId!=="undefined"&&n.jsx(k,{fields:f,minW:"full"}),t.randomId!=="undefined"&&t.color!==void 0&&n.jsx(k,{fields:p,minW:"full"}),n.jsx(Hn,{isOpen:c,onClose:()=>h(!1),onSubmit:g})]})},Xn=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[n.jsx("circle",{cx:"12",cy:"12",r:"6",stroke:"currentColor",fill:"none"}),n.jsx("text",{x:"8.5",y:"15",fill:"currentColor",fontSize:"8",children:"M"})]}),Qn={component:qn,icon:Xn,defaultAttrs:On,attrsComponent:Vn,metadata:{displayName:"panel.details.nodes.master.displayName",tags:[]}},Kn={[j.Virtual]:Se,[j.ShmetroNumLineBadge]:ke,[j.ShmetroTextLineBadge]:$e,[j.GzmtrLineBadge]:Ee,[j.BjsubwayNumLineBadge]:Oe,[j.BjsubwayTextLineBadge]:Ze,[j.SuzhouRTNumLineBadge]:nn,[j.BerlinSBahnLineBadge]:hn,[j.BerlinUBahnLineBadge]:an,[j.ChongqingRTNumLineBadge]:fn,[j.ChongqingRTTextLineBadge]:Bn,[j.ShenzhenMetroNumLineBadge]:Sn,[j.MRTDestinationNumbers]:zn,[j.JREastLineBadge]:$n,[j.QingdaoMetroNumLineBadge]:En,[j.Facilities]:Ne,[j.Text]:ee,[j.I18nText]:Wn,[j.Master]:Qn};export{Kn as m};
