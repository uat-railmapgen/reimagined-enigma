import{a6 as U,j as e,g as j,O as r,aV as q,aW as g,aX as M,B as b,aY as I,aZ as T,a4 as K,U as k,aM as J,aK as Y,a_ as E,a7 as P,aE as Z}from"./chakra-xNcrfRXW.js";import{u as L,b as A}from"./react-D-_si4LB.js";import{I as G}from"./index-DOabQZCz.js";import{e as V,a as S,aJ as Q,aA as ee,aK as se,aL as ae,as as m,W as ne,X as te,l as D,o as O,ay as o,S as oe,aM as le,d as ie,aj as re,aN as ce}from"./index-DSKKbajH.js";import{m as x}from"./misc-nodes-BXMbW9Ai.js";import{s as R}from"./master-manager-DvfKmhV2.js";const c={justifyContent:"flex-start",p:0,w:"100%",h:10},w={p:2.5,h:10},C={p:0,display:"flex",flexDirection:"column"},de=e.jsx("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:e.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"2",stroke:"currentColor",strokeDasharray:"2",fill:"none"})}),$=.3,je=()=>{const{t}=L(),a=V(),{activeSubscriptions:f}=S(s=>s.account),{preference:{unlockSimplePathAttempts:h,toolsPanel:{expand:d}}}=S(s=>s.app),{mode:l,theme:u,paletteAppClip:{output:i},masterNodesCount:y}=S(s=>s.runtime),_=U("white","var(--chakra-colors-gray-800)"),[z,N]=A.useState(!1);A.useEffect(()=>{z&&i&&(a(Q(i)),N(!1))},[i==null?void 0:i.toString()]);const[n,v]=A.useState(d),H=()=>{d?v(!1):setTimeout(()=>v(!0),($+.02)*1e3),a(ce(!d))},W=s=>a(m("station-".concat(s))),F=s=>a(m("line-".concat(s))),p=s=>a(m("misc-node-".concat(s))),X=!f.RMP_CLOUD&&y+1>ee;return e.jsxs(j,{flexShrink:"0",direction:"column",width:d?450:10,maxWidth:"100%",height:"100%",bg:_,zIndex:"5",transition:"width ".concat($,"s ease-in-out"),children:[e.jsx(r,{"aria-label":"Menu",leftIcon:n?e.jsx(se,{size:40,transform:"rotate(90)"}):e.jsx(ae,{size:40,transform:"rotate(90)"}),onClick:H,sx:c,children:n?t("panel.tools.showLess"):void 0}),e.jsx(j,{className:"tools",overflow:"auto",children:e.jsxs(q,{width:"100%",allowMultiple:!0,defaultIndex:[0,1,2],children:[e.jsx(r,{"aria-label":"select",leftIcon:de,onClick:()=>a(m(l==="select"?"free":"select")),variant:l==="select"?"solid":"outline",sx:c,children:n?t("panel.tools.select"):void 0}),e.jsxs(g,{children:[e.jsxs(M,{sx:w,children:[n&&e.jsx(b,{as:"span",flex:"1",textAlign:"left",children:t("panel.tools.section.lineDrawing")}),e.jsx(I,{})]}),e.jsxs(T,{sx:C,children:[e.jsxs(j,{children:[e.jsx(ne,{theme:u,onClick:()=>{N(!0),a(te(u))}}),e.jsx(K,{fontWeight:"600",pl:"1",alignSelf:"center",children:n?t("color"):void 0})]}),Object.values(D).filter(s=>!(s===D.Simple&&h>=0)).map(s=>e.jsx(r,{"aria-label":s,leftIcon:O[s].icon,onClick:()=>F(s),variant:l==="line-".concat(s)?"solid":"outline",sx:c,children:n?t(O[s].metadata.displayName):void 0},s)),e.jsx(r,{"aria-label":o.Virtual,leftIcon:x[o.Virtual].icon,onClick:()=>p(o.Virtual),variant:l==="misc-node-".concat(o.Virtual)?"solid":"outline",sx:c,children:n?t(x[o.Virtual].metadata.displayName):void 0})]})]}),e.jsxs(g,{children:[e.jsxs(M,{sx:w,children:[n&&e.jsx(b,{as:"span",flex:"1",textAlign:"left",children:t("panel.tools.section.stations")}),e.jsx(I,{})]}),e.jsxs(T,{sx:C,children:[Object.values(oe).map(s=>e.jsx(r,{"aria-label":s,leftIcon:R[s].icon,onClick:()=>W(s),variant:l==="station-".concat(s)?"solid":"outline",sx:c,children:n?t(R[s].metadata.displayName):void 0},s)),e.jsx(B,{type:"station",expand:n})]})]}),e.jsxs(g,{children:[e.jsxs(M,{sx:w,children:[n&&e.jsx(b,{as:"span",flex:"1",textAlign:"left",children:t("panel.tools.section.miscellaneousNodes")}),e.jsx(I,{})]}),e.jsxs(T,{sx:C,children:[e.jsxs(r,{"aria-label":o.Master,leftIcon:x[o.Master].icon,onClick:()=>p(o.Master),variant:l==="misc-node-".concat(o.Master)?"solid":"outline",isDisabled:X,sx:c,children:[n?t(x[o.Master].metadata.displayName):void 0,n?e.jsxs(e.Fragment,{children:[e.jsx(k,{ml:"1",colorScheme:"green",children:"New"}),e.jsx(J,{label:t("header.settings.proWithTrial"),children:e.jsx(k,{ml:"1",color:"gray.50",background:"radial-gradient(circle, #3f5efb, #fc466b)",mr:"auto",children:"PRO"})})]}):void 0]}),Object.values(o).filter(s=>s!==o.Virtual&&s!==o.I18nText&&s!==o.Master).map(s=>e.jsx(r,{"aria-label":s,leftIcon:x[s].icon,onClick:()=>p(s),variant:l==="misc-node-".concat(s)?"solid":"outline",sx:c,children:n?t(x[s].metadata.displayName):void 0},s)),e.jsx(B,{type:"misc-node",expand:n})]})]})]})})]})},B=t=>{const{type:a,expand:f}=t,{t:h}=L(),d=V(),l=a==="misc-node"?"nodes":a==="station"?"stations":"line-styles",u=a==="line"?"xs":void 0,i=a==="line"?"30px":"40px";return e.jsxs(Y,{fontSize:u,children:[a!=="line"&&e.jsx(E.Provider,{value:{style:{padding:5},size:i},children:e.jsx(le,{})}),f&&e.jsxs(e.Fragment,{children:[e.jsx(P,{color:"teal.500",href:"https://github.com/railmapgen/rmp/blob/main/docs/".concat(l,".md"),isExternal:!0,children:h("panel.tools.learnHowToAdd.".concat(a))}),e.jsx(Z,{as:ie,color:"teal.500",mr:"auto"}),e.jsx(P,{color:"teal.500",onClick:()=>d(re(!0)),isExternal:!0,children:h("panel.tools.learnHowToAdd.donate")}),a!=="line"&&e.jsx(E.Provider,{value:{style:{padding:5},color:"red",size:i},children:e.jsx(G,{})})]})]})};export{B as LearnHowToAdd,je as default};
