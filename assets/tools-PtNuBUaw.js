import{a6 as F,j as e,g as f,O as i,aV as H,aW as b,aX as g,B as v,aY as M,aZ as T,a4 as U,U as k,aM as X,aK as q,a_ as K,a7 as J,aE as Y}from"./chakra-t2DzLzXq.js";import{u as O,b as I}from"./react-DmTIgZys.js";import{c as Z,d as S,aJ as G,aA as Q,aK as ee,aL as se,as as m,V as ae,W as te,k as E,l as P,ar as n,S as oe,aM as ne,b as le,aN as ie}from"./index-FwaIs908.js";import{m as d}from"./misc-nodes-Dcj_gRl8.js";import{s as R}from"./master-manager-CcOdAp8F.js";const c={justifyContent:"flex-start",p:0,w:"100%",h:10},A={p:2.5,h:10},N={p:0,display:"flex",flexDirection:"column"},ce=e.jsx("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:e.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"2",stroke:"currentColor",strokeDasharray:"2",fill:"none"})}),$=.3,ue=()=>{const{t}=O(),o=Z(),{activeSubscriptions:u}=S(s=>s.account),{preference:{unlockSimplePathAttempts:p,toolsPanel:{expand:r}}}=S(s=>s.app),{mode:l,theme:h,paletteAppClip:{output:x},masterNodesCount:V}=S(s=>s.runtime),B=F("white","var(--chakra-colors-gray-800)"),[L,w]=I.useState(!1);I.useEffect(()=>{L&&x&&(o(G(x)),w(!1))},[x==null?void 0:x.toString()]);const[a,C]=I.useState(r),_=()=>{r?C(!1):setTimeout(()=>C(!0),($+.02)*1e3),o(ie(!r))},y=s=>o(m("station-".concat(s))),z=s=>o(m("line-".concat(s))),j=s=>o(m("misc-node-".concat(s))),W=!u.RMP_CLOUD&&V+1>Q;return e.jsxs(f,{flexShrink:"0",direction:"column",width:r?450:10,maxWidth:"100%",height:"100%",bg:B,zIndex:"5",transition:"width ".concat($,"s ease-in-out"),children:[e.jsx(i,{"aria-label":"Menu",leftIcon:a?e.jsx(ee,{size:40,transform:"rotate(90)"}):e.jsx(se,{size:40,transform:"rotate(90)"}),onClick:_,sx:c,children:a?t("panel.tools.showLess"):void 0}),e.jsx(f,{className:"tools",overflow:"auto",children:e.jsxs(H,{width:"100%",allowMultiple:!0,defaultIndex:[0,1,2],children:[e.jsx(i,{"aria-label":"select",leftIcon:ce,onClick:()=>o(m(l==="select"?"free":"select")),variant:l==="select"?"solid":"outline",sx:c,children:a?t("panel.tools.select"):void 0}),e.jsxs(b,{children:[e.jsxs(g,{sx:A,children:[a&&e.jsx(v,{as:"span",flex:"1",textAlign:"left",children:t("panel.tools.section.lineDrawing")}),e.jsx(M,{})]}),e.jsxs(T,{sx:N,children:[e.jsxs(f,{children:[e.jsx(ae,{theme:h,onClick:()=>{w(!0),o(te(h))}}),e.jsx(U,{fontWeight:"600",pl:"1",alignSelf:"center",children:a?t("color"):void 0})]}),Object.values(E).filter(s=>!(s===E.Simple&&p>=0)).map(s=>e.jsx(i,{"aria-label":s,leftIcon:P[s].icon,onClick:()=>z(s),variant:l==="line-".concat(s)?"solid":"outline",sx:c,children:a?t(P[s].metadata.displayName):void 0},s)),e.jsx(i,{"aria-label":n.Virtual,leftIcon:d[n.Virtual].icon,onClick:()=>j(n.Virtual),variant:l==="misc-node-".concat(n.Virtual)?"solid":"outline",sx:c,children:a?t(d[n.Virtual].metadata.displayName):void 0})]})]}),e.jsxs(b,{children:[e.jsxs(g,{sx:A,children:[a&&e.jsx(v,{as:"span",flex:"1",textAlign:"left",children:t("panel.tools.section.stations")}),e.jsx(M,{})]}),e.jsxs(T,{sx:N,children:[Object.values(oe).map(s=>e.jsx(i,{"aria-label":s,leftIcon:R[s].icon,onClick:()=>y(s),variant:l==="station-".concat(s)?"solid":"outline",sx:c,children:a?t(R[s].metadata.displayName):void 0},s)),e.jsx(D,{type:"station",expand:a})]})]}),e.jsxs(b,{children:[e.jsxs(g,{sx:A,children:[a&&e.jsx(v,{as:"span",flex:"1",textAlign:"left",children:t("panel.tools.section.miscellaneousNodes")}),e.jsx(M,{})]}),e.jsxs(T,{sx:N,children:[e.jsxs(i,{"aria-label":n.Master,leftIcon:d[n.Master].icon,onClick:()=>j(n.Master),variant:l==="misc-node-".concat(n.Master)?"solid":"outline",isDisabled:W,sx:c,children:[a?t(d[n.Master].metadata.displayName):void 0,a?e.jsxs(e.Fragment,{children:[e.jsx(k,{ml:"1",colorScheme:"green",children:"New"}),e.jsx(X,{label:t("header.settings.proWithTrial"),children:e.jsx(k,{ml:"1",color:"gray.50",background:"radial-gradient(circle, #3f5efb, #fc466b)",mr:"auto",children:"PRO"})})]}):void 0]}),Object.values(n).filter(s=>s!==n.Virtual&&s!==n.I18nText&&s!==n.Master).map(s=>e.jsx(i,{"aria-label":s,leftIcon:d[s].icon,onClick:()=>j(s),variant:l==="misc-node-".concat(s)?"solid":"outline",sx:c,children:a?t(d[s].metadata.displayName):void 0},s)),e.jsx(D,{type:"misc-node",expand:a})]})]})]})})]})},D=t=>{const{type:o,expand:u}=t,{t:p}=O(),r=o==="misc-node"?"nodes":o==="station"?"stations":"line-styles",l=o==="line"?"xs":void 0,h=o==="line"?"30px":"40px";return e.jsxs(q,{fontSize:l,children:[o!=="line"&&e.jsx(K.Provider,{value:{style:{padding:5},size:h},children:e.jsx(ne,{})}),u&&e.jsxs(e.Fragment,{children:[e.jsx(J,{color:"teal.500",href:"https://github.com/railmapgen/rmp/blob/main/docs/".concat(r,".md"),isExternal:!0,children:p("panel.tools.learnHowToAdd.".concat(o))}),e.jsx(Y,{as:le,color:"teal.500",mr:"auto"})]})]})};export{D as LearnHowToAdd,ue as default};
