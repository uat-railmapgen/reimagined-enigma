import{au as _,C as P,c as C,av as T,b as N,j as k,f as se,a as ae,T as ie,H as re}from"./index-7qW8beXs.js";import{j as n,O as ne,at as ce,$ as de,au as me,a1 as he,a2 as ue,a3 as xe,a5 as pe}from"./chakra-sjIlidOs.js";import{b as i,u as $}from"./react-hBmrxY6U.js";import{L as ge,M as te,d as fe,t as K,c as ye,f as be}from"./stations-MhY0Ipma.js";const je=o=>{const{id:e,x:t,y:r,handlePointerDown:l,handlePointerMove:a,handlePointerUp:s}=o,m=i.useCallback(d=>l(e,d),[e,l]),c=i.useCallback(d=>a(e,d),[e,a]),h=i.useCallback(d=>s(e,d),[e,s]);return n.jsxs("g",{id:e,transform:"translate(".concat(t,", ").concat(r,")rotate(45)"),onPointerDown:m,onPointerMove:c,onPointerUp:h,style:{cursor:"move"},children:[n.jsx("line",{x1:"-5",y1:"0",x2:"5",y2:"0",stroke:"black"}),n.jsx("line",{x1:"0",y1:"-5",x2:"0",y2:"5",stroke:"black"}),n.jsx("circle",{id:"virtual_circle_".concat(e),r:5,stroke:"black",fill:"white",fillOpacity:"0"})]})},Ne={},Be=()=>n.jsx(_,{fields:[]}),we=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,transform:"rotate(45)",focusable:!1,children:[n.jsx("circle",{cx:"12",cy:"12",r:"6",stroke:"currentColor",fill:"none"}),n.jsx("line",{x1:"6",y1:"12",x2:"18",y2:"12",stroke:"currentColor"}),n.jsx("line",{x1:"12",y1:"6",x2:"12",y2:"18",stroke:"currentColor"})]}),Ce={component:je,icon:we,defaultAttrs:Ne,attrsComponent:Be,metadata:{displayName:"panel.details.nodes.virtual.displayName",tags:[]}},Le=o=>{const{id:e,x:t,y:r,attrs:l,handlePointerDown:a,handlePointerMove:s,handlePointerUp:m}=o,{num:c=E.num,color:h=E.color}=l!=null?l:E,[d,f]=c>=10?[22.67,10.75]:[21,10],b=i.useCallback(u=>a(e,u),[e,a]),y=i.useCallback(u=>s(e,u),[e,s]),x=i.useCallback(u=>m(e,u),[e,m]);return n.jsxs("g",{id:e,transform:"translate(".concat(t,", ").concat(r,")"),onPointerDown:b,onPointerMove:y,onPointerUp:x,style:{cursor:"move"},children:[n.jsx("rect",{fill:h[2],width:d,height:"22.67"}),n.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:f,y:"19",fill:h[3],fontSize:"21.33",letterSpacing:"-1.75",children:c}),n.jsx("text",{className:"rmp-name__zh",x:d+2,y:"12",fontSize:"14.67",children:"号线"}),n.jsxs("text",{className:"rmp-name__en",x:d+4,y:"21.5",fontSize:"8",children:["Line ",c]})]})},E={num:1,color:[P.Shanghai,"sh1","#E4002B",C.white]},Se=[{type:"input",label:"panel.details.nodes.common.num",value:o=>(o!=null?o:E).num,validator:o=>!Number.isNaN(o),onChange:(o,e)=>{const t=e!=null?e:E;return Number.isNaN(o)||(t.num=Number(o)),t}},{type:"custom",label:"color",component:n.jsx(T,{type:N.ShmetroNumLineBadge,defaultTheme:E.color})}],ve=()=>n.jsx(_,{fields:Se}),Pe=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[n.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"10",height:"16"}),n.jsx("text",{x:"4",y:"18",fill:"white",children:"1"}),n.jsx("text",{x:"14",y:"10",fontSize:"5",children:"号线"}),n.jsx("text",{x:"14",y:"18",fontSize:"4",children:"Line 1"})]}),Te={component:Le,icon:Pe,defaultAttrs:E,attrsComponent:ve,metadata:{displayName:"panel.details.nodes.shmetroNumLineBadge.displayName",tags:[]}},ze=o=>{const{id:e,x:t,y:r,attrs:l,handlePointerDown:a,handlePointerMove:s,handlePointerUp:m}=o,{names:c=V.names,color:h=V.color}=l!=null?l:V,d=i.useRef(null),[f,b]=i.useState({width:12});i.useEffect(()=>b(d.current.getBBox()),[...c,b,d]);const y=i.useCallback(p=>a(e,p),[e,a]),x=i.useCallback(p=>s(e,p),[e,s]),u=i.useCallback(p=>m(e,p),[e,m]);return n.jsxs("g",{id:e,transform:"translate(".concat(t,", ").concat(r,")"),onPointerDown:y,onPointerMove:x,onPointerUp:u,style:{cursor:"move"},children:[n.jsx("rect",{fill:h[2],x:"0",width:f.width+7,height:"21"}),n.jsxs("g",{ref:d,children:[n.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",dominantBaseline:"hanging",x:(f.width+7)/2,y:"4",fontSize:"10",fill:h[3],letterSpacing:"-0.25",children:c[0]}),n.jsx("text",{className:"rmp-name__en",textAnchor:"middle",dominantBaseline:"hanging",x:(f.width+7)/2,y:"13",fontSize:"5",fill:h[3],letterSpacing:"-0.25",children:c[1]})]})]})},V={names:["浦江线","Pujiang Line"],color:[P.Shanghai,"pjl","#B5B5B6",C.white]},ke=o=>{const{id:e,attrs:t,handleAttrsUpdate:r}=o,{t:l}=$(),a=[{type:"textarea",label:l("panel.details.nodes.common.nameZh"),value:t.names[0],onChange:s=>{t.names[0]=s,r(e,t)},minW:"full"},{type:"input",label:l("panel.details.nodes.common.nameEn"),value:t.names[1],onChange:s=>{t.names[1]=s,r(e,t)},minW:"full"},{type:"custom",label:l("color"),component:n.jsx(T,{type:N.ShmetroTextLineBadge,defaultTheme:V.color})}];return n.jsx(k,{fields:a})},Ae=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[n.jsx("rect",{fill:"currentColor",x:"2",y:"6",width:"20",height:"12"}),n.jsx("text",{x:"5",y:"11",fontSize:"5",fill:"white",children:"浦江线"}),n.jsx("text",{x:"3",y:"16",fontSize:"4",fill:"white",children:"Pujiang Line"})]}),Me={component:ze,icon:Ae,defaultAttrs:V,attrsComponent:ke,metadata:{displayName:"panel.details.nodes.shmetroTextLineBadge.displayName",tags:[]}},_e=o=>{var u,p;const{id:e,x:t,y:r,attrs:l,handlePointerDown:a,handlePointerMove:s,handlePointerUp:m}=o,{names:c=U.names,color:h=U.color,tram:d=U.tram,span:f=U.span}=l!=null?l:U,b=i.useCallback(j=>a(e,j),[e,a]),y=i.useCallback(j=>s(e,j),[e,s]),x=i.useCallback(j=>m(e,j),[e,m]);return n.jsx("g",{id:e,transform:"translate(".concat(t,", ").concat(r,")scale(").concat(d?.5:1,")"),onPointerDown:b,onPointerMove:y,onPointerUp:x,style:{cursor:"move"},children:n.jsx(ge,{zhName:(u=c.at(0))!=null?u:"",enName:(p=c.at(1))!=null?p:"",zhClassName:"rmp-name__zh",enClassName:"rmp-name__en",foregroundColour:h[3],backgroundColour:h[2],spanDigits:f})})},U={names:["1号线","Line 1"],color:[P.Guangzhou,"gz1","#F3D03E",C.black],tram:!1,span:!0},$e=o=>{const{id:e,attrs:t,handleAttrsUpdate:r}=o,{t:l}=$(),a=[{type:"input",label:l("panel.details.nodes.common.nameZh"),value:t.names[0],onChange:s=>{t.names[0]=s,r(e,t)},minW:"full"},{type:"input",label:l("panel.details.nodes.common.nameEn"),value:t.names[1],onChange:s=>{t.names[1]=s,r(e,t)},minW:"full"},{type:"switch",label:l("panel.details.nodes.gzmtrLineBadge.tram"),oneLine:!0,isChecked:t.tram,onChange:s=>{t.tram=s,r(e,t)},minW:"full"},{type:"switch",label:l("panel.details.nodes.gzmtrLineBadge.span"),oneLine:!0,isChecked:t.span,onChange:s=>{t.span=s,r(e,t)},minW:"full"},{type:"custom",label:l("color"),component:n.jsx(T,{type:N.GzmtrLineBadge,defaultTheme:U.color})}];return n.jsx(k,{fields:a})},Ue=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[n.jsx("rect",{fill:"currentColor",x:"2",y:"5",width:"20",height:"14",rx:"1"}),n.jsx("text",{x:"6",y:"15",textAnchor:"middle",fontSize:"10",fill:"white",children:"1"}),n.jsx("text",{x:"15",y:"12",textAnchor:"middle",fontSize:"6",fill:"white",children:"号线"}),n.jsx("text",{x:"14.5",y:"17",textAnchor:"middle",fontSize:"4",fill:"white",children:"Line 1"})]}),De={component:_e,icon:Ue,defaultAttrs:U,attrsComponent:$e,metadata:{displayName:"panel.details.nodes.gzmtrLineBadge.displayName",tags:[]}},Q=11.84375,Re=o=>{const{id:e,x:t,y:r,attrs:l,handlePointerDown:a,handlePointerMove:s,handlePointerUp:m}=o,{num:c=I.num,color:h=I.color}=l!=null?l:I,d=i.useCallback(x=>a(e,x),[e,a]),f=i.useCallback(x=>s(e,x),[e,s]),b=i.useCallback(x=>m(e,x),[e,m]),y=h[3]===C.black?"#003670":C.white;return n.jsxs("g",{id:e,transform:"translate(".concat(t,", ").concat(r,")"),onPointerDown:d,onPointerMove:f,onPointerUp:b,style:{cursor:"move"},children:[n.jsx("rect",{fill:h[2],x:"0",width:Q+21,height:"16",rx:"2"}),n.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:Q/2+2,y:"13.5",fill:y,fontSize:"15",letterSpacing:"-1.5",children:c}),n.jsx("text",{className:"rmp-name__zh",x:Q+(c>9?5.5:3),y:"8.5",fontSize:"7",fill:y,children:"号线"}),n.jsxs("text",{className:"rmp-name__en",x:Q+(c>9?6:4.5),y:"13.5",fontSize:"4",fill:y,children:["Line ",c]})]})},I={num:1,color:[P.Beijing,"bj1","#c23a30",C.white]},Ee=[{type:"input",label:"panel.details.nodes.common.num",value:o=>(o!=null?o:I).num,validator:o=>!Number.isNaN(o),onChange:(o,e)=>{const t=e!=null?e:I;return Number.isNaN(o)||(t.num=Number(o)),t}},{type:"custom",label:"color",component:n.jsx(T,{type:N.BjsubwayNumLineBadge,defaultTheme:I.color})}],Ie=()=>n.jsx(_,{fields:Ee}),Fe=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[n.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"20",height:"16",rx:"2"}),n.jsx("text",{x:"4",y:"17",fill:"white",fontSize:"14",children:"1"}),n.jsx("text",{x:"11",y:"11",fill:"white",fontSize:"5",children:"号线"}),n.jsx("text",{x:"11",y:"17",fill:"white",fontSize:"4",children:"Line 1"})]}),We={component:Re,icon:Fe,defaultAttrs:I,attrsComponent:Ie,metadata:{displayName:"panel.details.nodes.bjsubwayNumLineBadge.displayName",tags:[]}},qe=28.84375,Oe=o=>{const{id:e,x:t,y:r,attrs:l,handlePointerDown:a,handlePointerMove:s,handlePointerUp:m}=o,{names:c=A.names,color:h=A.color}=l!=null?l:A,d=i.useRef(null),[f,b]=i.useState({width:12});i.useEffect(()=>b(d.current.getBBox()),[...c,b,d]);const y=i.useCallback(g=>a(e,g),[e,a]),x=i.useCallback(g=>s(e,g),[e,s]),u=i.useCallback(g=>m(e,g),[e,m]),p=Math.max(qe,f.width),j=h[3]===C.black?"#003670":C.white;return n.jsxs("g",{id:e,transform:"translate(".concat(t,", ").concat(r,")"),onPointerDown:y,onPointerMove:x,onPointerUp:u,style:{cursor:"move"},children:[n.jsx("rect",{fill:h[2],x:"0",width:p+4,height:"16",rx:"2"}),n.jsxs("g",{ref:d,children:[n.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:(p+4)/2,y:"8",fontSize:"7",fill:j,children:c[0]}),n.jsx("text",{className:"rmp-name__en",textAnchor:"middle",x:(p+4)/2,y:"13.5",fontSize:"4",fill:j,children:c[1]})]})]})},A={names:["八通线","Batong Line"],color:[P.Beijing,"bj1","#c23a30",C.white]},He=[{type:"input",label:"panel.details.nodes.common.nameZh",value:o=>(o!=null?o:A).names[0],onChange:(o,e)=>{const t=e!=null?e:A;return t.names[0]=o.toString(),t}},{type:"input",label:"panel.details.nodes.common.nameEn",value:o=>(o!=null?o:A).names[1],onChange:(o,e)=>{const t=e!=null?e:A;return t.names[1]=o.toString(),t}},{type:"custom",label:"color",component:n.jsx(T,{type:N.BjsubwayTextLineBadge,defaultTheme:A.color})}],Ve=()=>n.jsx(_,{fields:He}),Xe=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[n.jsx("rect",{fill:"currentColor",x:"2",y:"6",width:"20",height:"12",rx:"2"}),n.jsx("text",{x:"3",y:"12",fontSize:"6",fill:"white",children:"八通线"}),n.jsx("text",{x:"3",y:"16",fontSize:"3.2",fill:"white",children:"Batong Line"})]}),Qe={component:Oe,icon:Xe,defaultAttrs:A,attrsComponent:Ve,metadata:{displayName:"panel.details.nodes.bjsubwayTextLineBadge.displayName",tags:[]}},Je=o=>{const{id:e,x:t,y:r,attrs:l,handlePointerDown:a,handlePointerMove:s,handlePointerUp:m}=o,{num:c=z.num,branch:h=z.branch,color:d=z.color}=l!=null?l:z,f=i.useCallback(x=>a(e,x),[e,a]),b=i.useCallback(x=>s(e,x),[e,s]),y=i.useCallback(x=>m(e,x),[e,m]);return n.jsxs("g",{id:e,transform:"translate(".concat(t,", ").concat(r,")"),onPointerDown:f,onPointerMove:b,onPointerUp:y,style:{cursor:"move"},children:[n.jsx("rect",{fill:d[2],width:"20",height:"20",rx:"2",ry:"2"}),n.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",dominantBaseline:"middle",x:"10",y:"11.4",fill:d[3],fontSize:"15",letterSpacing:"-1",children:c}),h&&n.jsxs(n.Fragment,{children:[n.jsx("text",{className:"rmp-name__zh",x:20+2.5,y:"10",fontSize:"10",children:"支线"}),n.jsx("text",{className:"rmp-name__en",x:20+2.5,y:"18",fontSize:"5",fill:"gray",children:"Branch line"})]})]})},z={num:1,branch:!1,color:[P.Suzhou,"sz1","#78BA25",C.white]},Ze=[{type:"input",label:"panel.details.nodes.common.num",value:o=>(o!=null?o:z).num,validator:o=>!Number.isNaN(o),onChange:(o,e)=>{const t=e!=null?e:z;return Number.isNaN(o)||(t.num=Number(o)),t}},{type:"switch",label:"panel.details.nodes.suzhouRTNumLineBadge.branch",isChecked:o=>{var e;return(e=o==null?void 0:o.branch)!=null?e:z.branch},onChange:(o,e)=>{const t=e!=null?e:z;return t.branch=o,t}},{type:"custom",label:"color",component:n.jsx(T,{type:N.SuzhouRTNumLineBadge,defaultTheme:z.color})}],Ge=()=>n.jsx(_,{fields:Ze}),Ye=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[n.jsx("rect",{fill:"currentColor",x:"4",y:"4",width:"16",height:"16",rx:"3",ry:"3"}),n.jsx("text",{x:"12",y:"13.4",textAnchor:"middle",dominantBaseline:"middle",fill:"white",fontSize:"14",children:"1"})]}),Ke={component:Je,icon:Ye,defaultAttrs:z,attrsComponent:Ge,metadata:{displayName:"panel.details.nodes.suzhouRTNumLineBadge.displayName",tags:[]}},en=o=>{const{id:e,x:t,y:r,attrs:l,handlePointerDown:a,handlePointerMove:s,handlePointerUp:m}=o,{num:c=F.num,color:h=F.color}=l!=null?l:F,d=i.useCallback(x=>a(e,x),[e,a]),f=i.useCallback(x=>s(e,x),[e,s]),b=i.useCallback(x=>m(e,x),[e,m]),y=h[3];return n.jsxs("g",{id:e,transform:"translate(".concat(t,", ").concat(r,")"),onPointerDown:d,onPointerMove:f,onPointerUp:b,style:{cursor:"move"},children:[n.jsx("rect",{fill:h[2],x:"0",width:"25",height:"15"}),n.jsxs("text",{className:"rmp-name__berlin",textAnchor:"middle",x:"12.5",y:"12.5",fill:y,fontSize:"14",letterSpacing:"1",children:["U",c]})]})},F={num:1,color:[P.Berlin,"bu1","#62AD2D",C.white]},nn=[{type:"input",label:"panel.details.nodes.common.num",value:o=>(o!=null?o:F).num,validator:o=>!Number.isNaN(o),onChange:(o,e)=>{const t=e!=null?e:F;return Number.isNaN(o)||(t.num=Number(o)),t}},{type:"custom",label:"color",component:n.jsx(T,{type:N.BerlinUBahnLineBadge,defaultTheme:F.color})}],tn=()=>n.jsx(_,{fields:nn}),on=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[n.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"20",height:"16"}),n.jsx("text",{x:"4",y:"17",fill:"white",fontSize:"14",children:"U1"})]}),ln={component:en,icon:on,defaultAttrs:F,attrsComponent:tn,metadata:{displayName:"panel.details.nodes.berlinUBahnLineBadge.displayName",tags:[]}},sn=o=>{const{id:e,x:t,y:r,attrs:l,handlePointerDown:a,handlePointerMove:s,handlePointerUp:m}=o,{num:c=W.num,color:h=W.color}=l!=null?l:W,[d,f]=c>=10?[6,19.75]:[10,20],b=i.useCallback(p=>a(e,p),[e,a]),y=i.useCallback(p=>s(e,p),[e,s]),x=i.useCallback(p=>m(e,p),[e,m]),u=h[3];return n.jsxs("g",{id:e,transform:"translate(".concat(t,", ").concat(r,")"),onPointerDown:b,onPointerMove:y,onPointerUp:x,style:{cursor:"move"},children:[n.jsx("rect",{fill:h[2],x:"0",width:"30",height:"15",rx:"8"}),n.jsx("text",{className:"rmp-name__berlin",textAnchor:"middle",x:d,y:"12.5",fill:u,fontSize:"14",letterSpacing:"0",children:"S"}),n.jsx("text",{className:"rmp-name__berlin",textAnchor:"middle",x:f,y:"12.5",fill:u,fontSize:"14",letterSpacing:"-0.2",children:c})]})},W={num:1,color:[P.Berlin,"bs1","#DD6CA6",C.white]},an=[{type:"input",label:"panel.details.nodes.common.num",value:o=>(o!=null?o:W).num,validator:o=>!Number.isNaN(o),onChange:(o,e)=>{const t=e!=null?e:W;return Number.isNaN(o)||(t.num=Number(o)),t}},{type:"custom",label:"color",component:n.jsx(T,{type:N.BerlinSBahnLineBadge,defaultTheme:W.color})}],rn=()=>n.jsx(_,{fields:an}),cn=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[n.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"20",height:"16",rx:"8"}),n.jsx("text",{x:"4.5",y:"16.5",fill:"white",fontSize:"14",children:"S1"})]}),dn={component:sn,icon:cn,defaultAttrs:W,attrsComponent:rn,metadata:{displayName:"panel.details.nodes.berlinSBahnLineBadge.displayName",tags:[]}},mn=o=>{const{id:e,x:t,y:r,attrs:l,handlePointerDown:a,handlePointerMove:s,handlePointerUp:m}=o,{num:c=q.num,color:h=q.color}=l!=null?l:q,d=i.useCallback(j=>a(e,j),[e,a]),f=i.useCallback(j=>s(e,j),[e,s]),b=i.useCallback(j=>m(e,j),[e,m]),y=h[3],x=Number.isInteger(c)?16:15,[u,p]=Number.isInteger(c)?Number(c)>=10?[-1.2,1.5]:[0,5.5]:[0,2.55];return n.jsxs("g",{id:e,transform:"translate(".concat(t,", ").concat(r,")"),onPointerDown:d,onPointerMove:f,onPointerUp:b,style:{cursor:"move"},children:[n.jsx("rect",{fill:h[2],x:"0",width:"20",height:"20",rx:"10",ry:"10"}),n.jsx("text",{className:"rmp-name__zh",textAnchor:"left",x:p,y:"10",fill:y,fontSize:x,letterSpacing:u,dominantBaseline:"central",children:c})]})},q={num:1,color:[P.Chongqing,"cq1","#e4002b",C.white]},hn=[{type:"input",label:"panel.details.nodes.common.num",value:o=>(o!=null?o:q).num,validator:o=>!Number.isNaN(o),onChange:(o,e)=>{const t=e!=null?e:q;return Number.isNaN(Number(o))?t.num=o:t.num=Number(o),t}},{type:"custom",label:"color",component:n.jsx(T,{type:N.ChongqingRTNumLineBadge,defaultTheme:q.color})}],un=()=>n.jsx(_,{fields:hn}),xn=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[n.jsx("rect",{fill:"currentColor",x:"2",y:"2",rx:"10",ry:"10",width:"20",height:"20"}),n.jsx("text",{x:"8",y:"18",fill:"white",fontSize:"18",children:"1"})]}),pn={component:mn,icon:xn,defaultAttrs:q,attrsComponent:un,metadata:{displayName:"panel.details.nodes.chongqingRTNumLineBadge.displayName",tags:[]}},gn=o=>{const{id:e,x:t,y:r,attrs:l,handlePointerDown:a,handlePointerMove:s,handlePointerUp:m}=o,{names:c=M.names,color:h=M.color}=l!=null?l:M,d=i.useRef(null),f=i.useCallback(u=>a(e,u),[e,a]),b=i.useCallback(u=>s(e,u),[e,s]),y=i.useCallback(u=>m(e,u),[e,m]),x=h[3];return n.jsxs("g",{id:e,transform:"translate(".concat(t,", ").concat(r,")"),onPointerDown:f,onPointerMove:b,onPointerUp:y,style:{cursor:"move"},children:[n.jsx("rect",{fill:h[2],x:"0",width:"20",height:"20",rx:"10",ry:"10"}),n.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:"10",y:"10.5",fill:x,fontSize:"6",letterSpacing:"0",children:c[0]}),n.jsx(te,{ref:d,text:c[1].split("\n"),className:"rmp-name__en",textAnchor:"middle",x:"10",y:"9.25",fill:x,fontSize:"2.5",letterSpacing:"0",lineHeight:2.25,grow:"down"})]})},M={names:["空港线","Konggang Line"],color:[P.Chongqing,"cq3","#003da5",C.white]},fn=[{type:"input",label:"panel.details.nodes.common.nameZh",value:o=>(o!=null?o:M).names[0],onChange:(o,e)=>{const t=e!=null?e:M;return t.names[0]=o.toString(),t}},{type:"textarea",label:"panel.details.nodes.common.nameEn",value:o=>(o!=null?o:M).names[1],onChange:(o,e)=>{const t=e!=null?e:M;return t.names[1]=o.toString(),t}},{type:"custom",label:"color",component:n.jsx(T,{type:N.ChongqingRTTextLineBadge,defaultTheme:M.color})}],yn=()=>n.jsx(_,{fields:fn}),bn=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[n.jsx("rect",{fill:"currentColor",x:"2",y:"2",rx:"10",ry:"10",width:"20",height:"20"}),n.jsx("text",{x:"4.5",y:"12.5",fill:"white",fontSize:"5",children:"空港线"}),n.jsx("text",{x:"4.5",y:"15",fill:"white",fontSize:"2",children:"Konggang Line"})]}),jn={component:gn,icon:bn,defaultAttrs:M,attrsComponent:yn,metadata:{displayName:"panel.details.nodes.chongqingRTTextLineBadge.displayName",tags:[]}},J=11.84375,Nn=o=>{const{id:e,x:t,y:r,attrs:l,handlePointerDown:a,handlePointerMove:s,handlePointerUp:m}=o,{num:c=O.num,color:h=O.color,isBranch:d=O.isBranch}=l!=null?l:O,f=i.useCallback(B=>a(e,B),[e,a]),b=i.useCallback(B=>s(e,B),[e,s]),y=i.useCallback(B=>m(e,B),[e,m]),x=h[3]===C.black?"#003670":C.white,u=d?10:J+(c>9?6.5:3),p=d?-1:0,j=d?11:J+(c>9?7:3.5),g=d?6:J/2+4;return n.jsxs("g",{id:e,transform:"translate(".concat(t,", ").concat(r,")"),onPointerDown:f,onPointerMove:b,onPointerUp:y,style:{cursor:"move"},children:[n.jsx("rect",{fill:h[2],x:"0",width:J+21,height:"16",rx:"2"}),n.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:g,y:"13.5",fill:x,fontSize:"15",letterSpacing:"-1",children:c}),n.jsxs("text",{className:"rmp-name__zh",x:u,y:"9.5",fontSize:"6",fill:x,letterSpacing:p,children:["号线",d?"支线":""]}),n.jsxs("text",{className:"rmp-name__en",x:j,y:"13.5",fontSize:"3",fill:x,children:[d?"Branch":""," Line ",c]})]})},O={num:1,color:[P.Shenzhen,"sz1","#00b140",C.white],isBranch:!1},Bn=o=>{const{id:e,attrs:t,handleAttrsUpdate:r}=o,{t:l}=$(),a=[{type:"input",label:l("panel.details.nodes.common.num"),value:String(t.num),validator:s=>!Number.isNaN(s),onChange:s=>{t.num=Number(s),r(e,t)},minW:"full"},{type:"custom",label:l("color"),component:n.jsx(T,{type:N.ShenzhenMetroNumLineBadge,defaultTheme:O.color}),minW:"full"},{type:"switch",label:l("panel.details.nodes.shenzhenMetroNumLineBadge.branch"),oneLine:!0,isChecked:t.isBranch,onChange:s=>{t.isBranch=s,r(e,t)},minW:"full"}];return n.jsx(k,{fields:a})},wn=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[n.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"20",height:"16",rx:"2"}),n.jsx("text",{x:"4",y:"17",fill:"white",fontSize:"14",children:"1"}),n.jsx("text",{x:"11",y:"14",fill:"white",fontSize:"5",children:"号线"}),n.jsx("text",{x:"12",y:"17",fill:"white",fontSize:"3",children:"Line 1"})]}),Cn={component:Nn,icon:wn,defaultAttrs:O,attrsComponent:Bn,metadata:{displayName:"panel.details.nodes.shenzhenMetroNumLineBadge.displayName",tags:[]}},Ln=o=>{const{id:e,x:t,y:r,attrs:l,handlePointerDown:a,handlePointerMove:s,handlePointerUp:m}=o,{num:c=X.num,color:h=X.color}=l!=null?l:X,d=i.useCallback(u=>a(e,u),[e,a]),f=i.useCallback(u=>s(e,u),[e,s]),b=i.useCallback(u=>m(e,u),[e,m]),y=h[3],x=h[2];return n.jsxs("g",{id:e,transform:"translate(".concat(t,", ").concat(r,")"),onPointerDown:d,onPointerMove:f,onPointerUp:b,style:{cursor:"move"},children:[n.jsx("circle",{r:"8",fill:x}),n.jsx("text",{className:"rmp-name__mrt",textAnchor:"middle",x:"0",y:"0",width:"12",height:"12",fill:y,fontSize:"12",dominantBaseline:"central",letterSpacing:"-0.2",children:c})]})},X={num:1,color:[P.Singapore,"ewl","#009739",C.white]},Sn=o=>{const{id:e,attrs:t,handleAttrsUpdate:r}=o,{t:l}=$(),a=[{type:"input",label:l("panel.details.nodes.common.num"),value:String(t.num),validator:s=>!Number.isNaN(s),onChange:s=>{t.num=Number(s),r(e,t)},minW:"full"},{type:"custom",label:l("color"),component:n.jsx(T,{type:N.MRTDestinationNumbers,defaultTheme:X.color}),minW:"full"}];return n.jsx(k,{fields:a})},vn=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[n.jsx("rect",{fill:"currentColor",x:"2",y:"2",rx:"10",ry:"10",width:"20",height:"20"}),n.jsx("text",{x:"9",y:"17",fill:"white",fontSize:"14",children:"1"})]}),Pn={component:Ln,icon:vn,defaultAttrs:X,attrsComponent:Sn,metadata:{displayName:"panel.details.nodes.mrtDestinationNumbers.displayName",tags:[]}},Z=4,ee=7,G=10,le=5,Tn=5,S=Tn*Math.SQRT1_2,oe=.25,Y=(S*Math.SQRT2-oe)/2*Math.SQRT2,zn=o=>{const{id:e,x:t,y:r,attrs:l,handlePointerDown:a,handlePointerMove:s,handlePointerUp:m}=o,{names:c=D.names,num:h=D.num,color:d=D.color,crosshatchPatternFill:f=D.crosshatchPatternFill}=l!=null?l:D,b=i.useRef(null),[y,x]=i.useState({height:10,width:12});i.useEffect(()=>x(b.current.getBBox()),[...c,x,b]);const u=i.useCallback(g=>a(e,g),[e,a]),p=i.useCallback(g=>s(e,g),[e,s]),j=i.useCallback(g=>m(e,g),[e,m]);return n.jsxs("g",{id:e,transform:"translate(".concat(t,", ").concat(r,")"),onPointerDown:u,onPointerMove:p,onPointerUp:j,style:{cursor:"move"},children:[n.jsxs("defs",{children:[n.jsxs("clipPath",{id:"jr_east_fill_pattern_clip_path",patternUnits:"userSpaceOnUse",children:[n.jsx("polygon",{points:"0,0 0,".concat(Y," ").concat(Y,",0")}),n.jsx("polygon",{points:"".concat(S,",").concat(S," ").concat(S-Y,",").concat(S," ").concat(S,",").concat(S-Y)})]}),n.jsxs("pattern",{id:"jr_east_".concat(e,"_fill_pattern_").concat(d[2]),width:S,height:S,patternUnits:"userSpaceOnUse",children:[n.jsx("rect",{width:S,height:S,fill:d[2]}),n.jsx("line",{x1:"0",y1:"0",x2:S,y2:S,stroke:"white",strokeWidth:oe,strokeOpacity:"33%",clipPath:"url(#jr_east_fill_pattern_clip_path)"}),n.jsx("line",{x1:S,y1:"0",x2:"0",y2:S,stroke:"white",strokeWidth:oe,strokeOpacity:"33%"})]})]}),n.jsx("rect",{fill:f?"url(#jr_east_".concat(e,"_fill_pattern_").concat(d[2],")"):d[2],x:"0",y:"-1",width:y.width+Z+10,height:y.height+1,rx:"1",stroke:"black",strokeWidth:"0.25"}),n.jsx("circle",{r:Z,cx:ee,cy:G/2+1,stroke:"black",strokeWidth:"0.25",fill:d[3]}),n.jsx("text",{x:ee,y:G/2+1.75,textAnchor:"middle",dominantBaseline:"middle",fill:d[3]==="#000"?"white":d[2],fontSize:h>9?7:8,className:"rmp-name__jreast_en",children:h}),n.jsx(te,{ref:b,text:c[0].split("\\"),x:ee+Z+1,y:"-1",fill:d[3],fontSize:G,lineHeight:G,grow:"down",className:"rmp-name__jreast_ja"}),n.jsx(te,{text:c[1].split("\\"),textAnchor:"middle",dominantBaseline:"hanging",x:(y.width+Z+10)/2,y:y.height+1,fontSize:le,lineHeight:le,baseOffset:0,grow:"down",className:"rmp-name__jreast_en"})]})},D={names:["山手線","Yamanote Line"],color:[P.Tokyo,"jy","#9ACD32",C.black],num:9,crosshatchPatternFill:!1},kn=o=>{const{id:e,attrs:t,handleAttrsUpdate:r}=o,{t:l}=$(),a=[{type:"input",label:l("panel.details.nodes.common.num"),value:String(t.num),validator:s=>!Number.isNaN(s),onChange:s=>{t.num=Number(s),r(e,t)},minW:"full"},{type:"textarea",label:l("panel.details.nodes.common.nameJa"),value:t.names[0].replaceAll("\\","\n"),onChange:s=>{t.names[0]=s.replaceAll("\n","\\"),r(e,t)},minW:"full"},{type:"textarea",label:l("panel.details.nodes.common.nameEn"),value:t.names[1].replaceAll("\\","\n"),onChange:s=>{t.names[1]=s.replaceAll("\n","\\"),r(e,t)},minW:"full"},{type:"switch",label:l("panel.details.nodes.jrEastLineBadge.crosshatchPatternFill"),oneLine:!0,isChecked:t.crosshatchPatternFill,onChange:s=>{t.crosshatchPatternFill=s,r(e,t)},minW:"full"},{type:"custom",label:l("color"),component:n.jsx(T,{type:N.JREastLineBadge,defaultTheme:D.color})}];return n.jsx(k,{fields:a})},An=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[n.jsx("rect",{fill:"currentColor",x:"1",y:"6",width:"22",height:"7"}),n.jsx("circle",{cx:"3.5",cy:"9.25",r:"2",fill:"white"}),n.jsx("text",{x:"3",y:"10.5",fontSize:"3",children:"9"}),n.jsx("text",{x:"6",y:"11.25",fontSize:"5",fill:"white",children:"山手線"}),n.jsx("text",{x:"1.5",y:"16",fontSize:"3",children:"Yamanote Line"})]}),Mn={component:zn,icon:An,defaultAttrs:D,attrsComponent:kn,metadata:{displayName:"panel.details.nodes.jrEastLineBadge.displayName",tags:[]}},_n=o=>{const{id:e,x:t,y:r,attrs:l,handlePointerDown:a,handlePointerMove:s,handlePointerUp:m}=o,{num:c=R.num,numEn:h=R.numEn,color:d=R.color,showText:f=R.showText}=l!=null?l:R,b=i.useCallback(w=>a(e,w),[e,a]),y=i.useCallback(w=>s(e,w),[e,s]),x=i.useCallback(w=>m(e,w),[e,m]),u=d[3],[p,j,g,B]=Number(c)>=10?[-2.4,0,10.25,20]:[0,4,10,22];return n.jsxs("g",{id:e,transform:"translate(".concat(t,", ").concat(r,")"),onPointerDown:b,onPointerMove:y,onPointerUp:x,style:{cursor:"move"},children:[n.jsx("rect",{fill:d[2],x:"0",width:"20",height:"20",rx:"2",ry:"2"}),n.jsx("text",{className:"rmp-name__zh",textAnchor:"left",x:j,y:g,fill:u,fontSize:B,fontWeight:"bold",letterSpacing:p,dominantBaseline:"central",children:c}),f&&n.jsxs(n.Fragment,{children:[n.jsx("text",{className:"rmp-name__zh",x:"22",y:"10.5",fontSize:"13",children:"号线"}),n.jsxs("text",{className:"rmp-name__en",x:"22.5",y:"19.5",fontSize:"8",children:["Line ",h]})]})]})},R={num:1,numEn:"1",showText:!0,color:[P.Qingdao,"qd1","#f7b000",C.white]},$n=o=>{const{id:e,attrs:t,handleAttrsUpdate:r}=o,{t:l}=$(),a=[{type:"input",label:l("panel.details.nodes.common.num"),value:t.num.toString(),onChange:s=>{t.num=Number(s),t.numEn=s,r(e,t)}},{type:"input",label:l("panel.details.nodes.qingdaoMetroNumLineBadge.numEn"),value:t.numEn.toString(),onChange:s=>{t.numEn=s,r(e,t)}},{type:"switch",label:l("panel.details.nodes.qingdaoMetroNumLineBadge.showText"),isChecked:t.showText,oneLine:!0,onChange:s=>{t.showText=s,r(e,t)}},{type:"custom",label:l("color"),component:n.jsx(T,{type:N.QingdaoMetroNumLineBadge,defaultTheme:R.color})}];return n.jsx(k,{fields:a,minW:"full"})},Un=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[n.jsx("rect",{fill:"currentColor",x:"2",y:"6",rx:"1",ry:"1",width:"10",height:"10"}),n.jsx("text",{x:"4",y:"15",fill:"white",fontSize:"12",children:"1"}),n.jsx("text",{x:"12",y:"11.5",fill:"black",fontSize:"6",children:"号线"}),n.jsx("text",{x:"12",y:"15.5",fill:"black",fontSize:"4",children:"Line1"})]}),Dn={component:_n,icon:Un,defaultAttrs:R,attrsComponent:$n,metadata:{displayName:"panel.details.nodes.qingdaoMetroNumLineBadge.displayName",tags:[]}},Rn=o=>{const{id:e,x:t,y:r,attrs:l,handlePointerDown:a,handlePointerMove:s,handlePointerUp:m}=o,c=ye();l.content=c(l.contents);const h=K.component;return n.jsx(h,{id:e,x:t,y:r,handlePointerDown:a,handlePointerMove:s,handlePointerUp:m,attrs:l})},En={contents:{},...fe},In={component:Rn,icon:K.icon,defaultAttrs:En,attrsComponent:K.attrsComponent,metadata:{displayName:"panel.details.nodes.i18nText.displayName",tags:[]}},Fn=o=>{const{id:e,x:t,y:r,attrs:l,handlePointerDown:a,handlePointerMove:s,handlePointerUp:m}=o,c=i.useCallback(u=>a(e,u),[e,a]),h=i.useCallback(u=>s(e,u),[e,s]),d=i.useCallback(u=>m(e,u),[e,m]),f=(u,...p)=>new Function(...p,"return ".concat(u)),b=(u,p,j)=>{var B;const g={};for(const w in u)if(Object.prototype.hasOwnProperty.call(u,w))try{g[w]=f(u[w],...l.components.map(L=>L.label),"color")(...p.map((L,v)=>j[v]==="number"&&!Number.isNaN(Number(L))?Number(L):L),l.color?(B=l.color.value)!=null?B:l.color.defaultValue:"")}catch(L){g[w]=""}return g},y=l.nodeType==="MiscNode"?{onPointerDown:c,onPointerMove:h,onPointerUp:d,style:{cursor:"move"}}:{},x=u=>u.map(p=>{var B,w;const j=l.nodeType==="Station"&&l.core&&l.core===p.id?{id:"stn_core_".concat(e),onPointerDown:c,onPointerMove:h,onPointerUp:d,style:{cursor:"move"}}:{},g=b(p.attrs,l.components.map(L=>L.value),l.components.map(L=>L.type));return n.jsx("g",{transform:"translate(".concat((B=g.x)!=null?B:0,", ").concat((w=g.y)!=null?w:0,")"),children:i.createElement(p.type,{...g,x:0,y:0,...j},p.children?x(p.children):"_rmp_children_text"in g?g._rmp_children_text:null)},p.id)});return i.createElement("g",{id:e,transform:"translate(".concat(t,", ").concat(r,")"),...y},l.randomId!=="undefined"?x(l.svgs):n.jsxs(n.Fragment,{children:[n.jsx("circle",{r:5}),n.jsx("text",{x:-3.75,y:3,fill:"white",fontSize:"8",fontWeight:"bold",children:"M"})]}))},Wn={randomId:"undefined",nodeType:"MiscNode",svgs:[],components:[]},qn=o=>{const{isOpen:e,onClose:t,onSubmit:r}=o,{t:l}=$(),[a,s]=i.useState(""),[m,c]=i.useState(""),h=[{type:"textarea",label:l("Paste json from RMP style generator"),value:a.toString(),onChange:f=>s(f),minW:"full"}],d=()=>{try{r(a)}catch(f){c("Something went wrong.");return}t()};return i.useEffect(()=>c(""),[e]),n.jsxs(ce,{isOpen:e,onClose:t,size:"xl",scrollBehavior:"inside",children:[n.jsx(de,{}),n.jsxs(me,{children:[n.jsx(he,{children:l("Upload master parameter")}),n.jsx(ue,{}),n.jsxs(xe,{children:[n.jsx(k,{fields:h}),n.jsx("span",{style:{color:"red"},children:m})]}),n.jsxs(pe,{children:[n.jsx(ne,{colorScheme:"blue",variant:"outline",mr:"1",onClick:t,children:l("cancel")}),n.jsx(ne,{colorScheme:"blue",variant:"outline",mr:"1",onClick:d,children:l("apply")})]})]})]})},On=o=>{var p;const{id:e,attrs:t,handleAttrsUpdate:r}=o,l=se(),{paletteAppClip:{output:a}}=ae(j=>j.runtime),{t:s}=$(),[m,c]=i.useState(!1),h=j=>{t.components.forEach(g=>{var B;if(g.id===j)return(B=g.value)!=null?B:g.defaultValue})},d=j=>{const g=JSON.parse(j),B={randomId:g.id,nodeType:g.type,svgs:g.svgs,components:g.components,color:g.color,core:g.core};B.components.forEach((w,L)=>{var v;B.components[L].value=(v=h(w.id))!=null?v:w.defaultValue}),B.color!==void 0&&(B.color.value=t.color?t.color.value:B.color.defaultValue),r(e,B)},f=[{type:"output",label:"Master Type",value:t.randomId},{type:"custom",label:"",component:n.jsx(ne,{onClick:()=>c(!0),children:"Upload"}),oneLine:!0}],b=t.components.map((j,g)=>{const{label:B,type:w,defaultValue:L,value:v}=j;return w==="number"||w==="text"?{label:B,type:"input",value:v!=null?v:L,onChange:H=>{t.components[g].value=H,r(e,{...t,components:t.components})}}:w==="switch"?{label:B,type:"switch",isChecked:(v!=null?v:L)==="true",onChange:H=>{t.components[g].value=H,r(e,{...t,components:t.components})}}:w==="textarea"?{label:B,type:"textarea",value:v!=null?v:L,onChange:H=>{t.components[g].value=H,r(e,{...t,components:t.components})}}:{type:"input",label:"undefined",value:"none"}}),[y,x]=i.useState(!1);i.useEffect(()=>{t.color&&y&&a&&(t.color.value=a,r(e,{...t,color:t.color}),x(!1))},[a==null?void 0:a.toString()]);const u=[{type:"custom",label:s("color"),component:n.jsx(ie,{theme:(p=t.color)==null?void 0:p.value,onClick:()=>{var j;x(!0),l(re((j=t.color)==null?void 0:j.value))}})}];return n.jsxs(n.Fragment,{children:[n.jsx(k,{fields:f}),t.randomId!=="undefined"&&n.jsx(k,{fields:b,minW:"full"}),t.randomId!=="undefined"&&t.color!==void 0&&n.jsx(k,{fields:u,minW:"full"}),n.jsx(qn,{isOpen:m,onClose:()=>c(!1),onSubmit:d})]})},Hn=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[n.jsx("circle",{cx:"12",cy:"12",r:"6",stroke:"currentColor",fill:"none"}),n.jsx("text",{x:"8.5",y:"15",fill:"currentColor",fontSize:"8",children:"M"})]}),Vn={component:Fn,icon:Hn,defaultAttrs:Wn,attrsComponent:On,metadata:{displayName:"panel.details.nodes.master.displayName",tags:[]}},Gn={[N.Virtual]:Ce,[N.ShmetroNumLineBadge]:Te,[N.ShmetroTextLineBadge]:Me,[N.GzmtrLineBadge]:De,[N.BjsubwayNumLineBadge]:We,[N.BjsubwayTextLineBadge]:Qe,[N.SuzhouRTNumLineBadge]:Ke,[N.BerlinSBahnLineBadge]:dn,[N.BerlinUBahnLineBadge]:ln,[N.ChongqingRTNumLineBadge]:pn,[N.ChongqingRTTextLineBadge]:jn,[N.ShenzhenMetroNumLineBadge]:Cn,[N.MRTDestinationNumbers]:Pn,[N.JREastLineBadge]:Mn,[N.QingdaoMetroNumLineBadge]:Dn,[N.Facilities]:be,[N.Text]:K,[N.I18nText]:In,[N.Master]:Vn};export{Gn as m};
