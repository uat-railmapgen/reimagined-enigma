System.register(["./index-legacy-M0Y2Z42p.js","./chakra-legacy-D81yMKcS.js","./react-legacy-CLSeZSow.js","./stations-legacy-BaU9VMqW.js"],(function(e,n){"use strict";var t,l,o,a,i,r,s,c,d,m,h,u,x,p,f,g,y,j,b,w,v,N,C,S,P,B,z,_;return{setters:[e=>{t=e.au,l=e.C,o=e.c,a=e.av,i=e.b,r=e.j,s=e.f,c=e.a,d=e.T,m=e.H},e=>{h=e.j,u=e.aL,x=e.O,p=e.at,f=e.$,g=e.au,y=e.a1,j=e.a2,b=e.a3,w=e.a5},e=>{v=e.b,N=e.u},e=>{C=e.L,S=e.M,P=e.d,B=e.t,z=e.c,_=e.f}],execute:function(){const n={component:e=>{const{id:n,x:t,y:l,handlePointerDown:o,handlePointerMove:a,handlePointerUp:i}=e,r=v.useCallback((e=>o(n,e)),[n,o]),s=v.useCallback((e=>a(n,e)),[n,a]),c=v.useCallback((e=>i(n,e)),[n,i]);return h.jsxs("g",{id:n,transform:`translate(${t}, ${l})rotate(45)`,onPointerDown:r,onPointerMove:s,onPointerUp:c,style:{cursor:"move"},children:[h.jsx("line",{x1:"-5",y1:"0",x2:"5",y2:"0",stroke:"black"}),h.jsx("line",{x1:"0",y1:"-5",x2:"0",y2:"5",stroke:"black"}),h.jsx("circle",{id:`virtual_circle_${n}`,r:5,stroke:"black",fill:"white",fillOpacity:"0"})]})},icon:h.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,transform:"rotate(45)",focusable:!1,children:[h.jsx("circle",{cx:"12",cy:"12",r:"6",stroke:"currentColor",fill:"none"}),h.jsx("line",{x1:"6",y1:"12",x2:"18",y2:"12",stroke:"currentColor"}),h.jsx("line",{x1:"12",y1:"6",x2:"12",y2:"18",stroke:"currentColor"})]}),defaultAttrs:{},attrsComponent:()=>h.jsx(t,{fields:[]}),metadata:{displayName:"panel.details.nodes.virtual.displayName",tags:[]}},k={num:1,color:[l.Shanghai,"sh1","#E4002B",o.white]},L=[{type:"input",label:"panel.details.nodes.common.num",value:e=>(null!=e?e:k).num,validator:e=>!Number.isNaN(e),onChange:(e,n)=>{const t=null!=n?n:k;return Number.isNaN(e)||(t.num=Number(e)),t}},{type:"custom",label:"color",component:h.jsx(a,{type:i.ShmetroNumLineBadge,defaultTheme:k.color})}],M={component:e=>{const{id:n,x:t,y:l,attrs:o,handlePointerDown:a,handlePointerMove:i,handlePointerUp:r}=e,{num:s=k.num,color:c=k.color}=null!=o?o:k,[d,m]=s>=10?[22.67,10.75]:[21,10],u=v.useCallback((e=>a(n,e)),[n,a]),x=v.useCallback((e=>i(n,e)),[n,i]),p=v.useCallback((e=>r(n,e)),[n,r]);return h.jsxs("g",{id:n,transform:`translate(${t}, ${l})`,onPointerDown:u,onPointerMove:x,onPointerUp:p,style:{cursor:"move"},children:[h.jsx("rect",{fill:c[2],width:d,height:"22.67"}),h.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:m,y:"19",fill:c[3],fontSize:"21.33",letterSpacing:"-1.75",children:s}),h.jsx("text",{className:"rmp-name__zh",x:d+2,y:"12",fontSize:"14.67",children:"号线"}),h.jsxs("text",{className:"rmp-name__en",x:d+4,y:"21.5",fontSize:"8",children:["Line ",s]})]})},icon:h.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[h.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"10",height:"16"}),h.jsx("text",{x:"4",y:"18",fill:"white",children:"1"}),h.jsx("text",{x:"14",y:"10",fontSize:"5",children:"号线"}),h.jsx("text",{x:"14",y:"18",fontSize:"4",children:"Line 1"})]}),defaultAttrs:k,attrsComponent:()=>h.jsx(t,{fields:L}),metadata:{displayName:"panel.details.nodes.shmetroNumLineBadge.displayName",tags:[]}},A={names:["浦江线","Pujiang Line"],color:[l.Shanghai,"pjl","#B5B5B6",o.white]},T={component:e=>{const{id:n,x:t,y:l,attrs:o,handlePointerDown:a,handlePointerMove:i,handlePointerUp:r}=e,{names:s=A.names,color:c=A.color}=null!=o?o:A,d=v.useRef(null),[m,u]=v.useState({width:12});v.useEffect((()=>u(d.current.getBBox())),[...s,u,d]);const x=v.useCallback((e=>a(n,e)),[n,a]),p=v.useCallback((e=>i(n,e)),[n,i]),f=v.useCallback((e=>r(n,e)),[n,r]);return h.jsxs("g",{id:n,transform:`translate(${t}, ${l})`,onPointerDown:x,onPointerMove:p,onPointerUp:f,style:{cursor:"move"},children:[h.jsx("rect",{fill:c[2],x:"0",width:m.width+7,height:"21"}),h.jsxs("g",{ref:d,children:[h.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",dominantBaseline:"hanging",x:(m.width+7)/2,y:"4",fontSize:"10",fill:c[3],letterSpacing:"-0.25",children:s[0]}),h.jsx("text",{className:"rmp-name__en",textAnchor:"middle",dominantBaseline:"hanging",x:(m.width+7)/2,y:"13",fontSize:"5",fill:c[3],letterSpacing:"-0.25",children:s[1]})]})]})},icon:h.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[h.jsx("rect",{fill:"currentColor",x:"2",y:"6",width:"20",height:"12"}),h.jsx("text",{x:"5",y:"11",fontSize:"5",fill:"white",children:"浦江线"}),h.jsx("text",{x:"3",y:"16",fontSize:"4",fill:"white",children:"Pujiang Line"})]}),defaultAttrs:A,attrsComponent:e=>{const{id:n,attrs:t,handleAttrsUpdate:l}=e,{t:o}=N(),s=[{type:"textarea",label:o("panel.details.nodes.common.nameZh"),value:t.names[0],onChange:e=>{t.names[0]=e,l(n,t)},minW:"full"},{type:"input",label:o("panel.details.nodes.common.nameEn"),value:t.names[1],onChange:e=>{t.names[1]=e,l(n,t)},minW:"full"},{type:"custom",label:o("color"),component:h.jsx(a,{type:i.ShmetroTextLineBadge,defaultTheme:A.color})}];return h.jsx(r,{fields:s})},metadata:{displayName:"panel.details.nodes.shmetroTextLineBadge.displayName",tags:[]}},U={names:["1号线","Line 1"],color:[l.Guangzhou,"gz1","#F3D03E",o.black],tram:!1,span:!0},$={component:e=>{var n,t;const{id:l,x:o,y:a,attrs:i,handlePointerDown:r,handlePointerMove:s,handlePointerUp:c}=e,{names:d=U.names,color:m=U.color,tram:u=U.tram,span:x=U.span}=null!=i?i:U,p=v.useCallback((e=>r(l,e)),[l,r]),f=v.useCallback((e=>s(l,e)),[l,s]),g=v.useCallback((e=>c(l,e)),[l,c]);return h.jsx("g",{id:l,transform:`translate(${o}, ${a})scale(${u?.5:1})`,onPointerDown:p,onPointerMove:f,onPointerUp:g,style:{cursor:"move"},children:h.jsx(C,{zhName:null!==(n=d.at(0))&&void 0!==n?n:"",enName:null!==(t=d.at(1))&&void 0!==t?t:"",zhClassName:"rmp-name__zh",enClassName:"rmp-name__en",foregroundColour:m[3],backgroundColour:m[2],spanDigits:x})})},icon:h.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[h.jsx("rect",{fill:"currentColor",x:"2",y:"5",width:"20",height:"14",rx:"1"}),h.jsx("text",{x:"6",y:"15",textAnchor:"middle",fontSize:"10",fill:"white",children:"1"}),h.jsx("text",{x:"15",y:"12",textAnchor:"middle",fontSize:"6",fill:"white",children:"号线"}),h.jsx("text",{x:"14.5",y:"17",textAnchor:"middle",fontSize:"4",fill:"white",children:"Line 1"})]}),defaultAttrs:U,attrsComponent:e=>{const{id:n,attrs:t,handleAttrsUpdate:l}=e,{t:o}=N(),s=[{type:"input",label:o("panel.details.nodes.common.nameZh"),value:t.names[0],onChange:e=>{t.names[0]=e,l(n,t)},minW:"full"},{type:"input",label:o("panel.details.nodes.common.nameEn"),value:t.names[1],onChange:e=>{t.names[1]=e,l(n,t)},minW:"full"},{type:"switch",label:o("panel.details.nodes.gzmtrLineBadge.tram"),oneLine:!0,isChecked:t.tram,onChange:e=>{t.tram=e,l(n,t)},minW:"full"},{type:"switch",label:o("panel.details.nodes.gzmtrLineBadge.span"),oneLine:!0,isChecked:t.span,onChange:e=>{t.span=e,l(n,t)},minW:"full"},{type:"custom",label:o("color"),component:h.jsx(a,{type:i.GzmtrLineBadge,defaultTheme:U.color})}];return h.jsx(r,{fields:s})},metadata:{displayName:"panel.details.nodes.gzmtrLineBadge.displayName",tags:[]}},D=11.84375,E={num:1,color:[l.Beijing,"bj1","#c23a30",o.white]},W=[{type:"input",label:"panel.details.nodes.common.num",value:e=>(null!=e?e:E).num,validator:e=>!Number.isNaN(e),onChange:(e,n)=>{const t=null!=n?n:E;return Number.isNaN(e)||(t.num=Number(e)),t}},{type:"custom",label:"color",component:h.jsx(a,{type:i.BjsubwayNumLineBadge,defaultTheme:E.color})}],R={component:e=>{const{id:n,x:t,y:l,attrs:a,handlePointerDown:i,handlePointerMove:r,handlePointerUp:s}=e,{num:c=E.num,color:d=E.color}=null!=a?a:E,m=v.useCallback((e=>i(n,e)),[n,i]),u=v.useCallback((e=>r(n,e)),[n,r]),x=v.useCallback((e=>s(n,e)),[n,s]),p=d[3]===o.black?"#003670":o.white;return h.jsxs("g",{id:n,transform:`translate(${t}, ${l})`,onPointerDown:m,onPointerMove:u,onPointerUp:x,style:{cursor:"move"},children:[h.jsx("rect",{fill:d[2],x:"0",width:32.84375,height:"16",rx:"2"}),h.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:7.921875,y:"13.5",fill:p,fontSize:"15",letterSpacing:"-1.5",children:c}),h.jsx("text",{className:"rmp-name__zh",x:D+(c>9?5.5:3),y:"8.5",fontSize:"7",fill:p,children:"号线"}),h.jsxs("text",{className:"rmp-name__en",x:D+(c>9?6:4.5),y:"13.5",fontSize:"4",fill:p,children:["Line ",c]})]})},icon:h.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[h.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"20",height:"16",rx:"2"}),h.jsx("text",{x:"4",y:"17",fill:"white",fontSize:"14",children:"1"}),h.jsx("text",{x:"11",y:"11",fill:"white",fontSize:"5",children:"号线"}),h.jsx("text",{x:"11",y:"17",fill:"white",fontSize:"4",children:"Line 1"})]}),defaultAttrs:E,attrsComponent:()=>h.jsx(t,{fields:W}),metadata:{displayName:"panel.details.nodes.bjsubwayNumLineBadge.displayName",tags:[]}},q={names:["八通线","Batong Line"],color:[l.Beijing,"bj1","#c23a30",o.white]},O=[{type:"input",label:"panel.details.nodes.common.nameZh",value:e=>(null!=e?e:q).names[0],onChange:(e,n)=>{const t=null!=n?n:q;return t.names[0]=e.toString(),t}},{type:"input",label:"panel.details.nodes.common.nameEn",value:e=>(null!=e?e:q).names[1],onChange:(e,n)=>{const t=null!=n?n:q;return t.names[1]=e.toString(),t}},{type:"custom",label:"color",component:h.jsx(a,{type:i.BjsubwayTextLineBadge,defaultTheme:q.color})}],F={component:e=>{const{id:n,x:t,y:l,attrs:a,handlePointerDown:i,handlePointerMove:r,handlePointerUp:s}=e,{names:c=q.names,color:d=q.color}=null!=a?a:q,m=v.useRef(null),[u,x]=v.useState({width:12});v.useEffect((()=>x(m.current.getBBox())),[...c,x,m]);const p=v.useCallback((e=>i(n,e)),[n,i]),f=v.useCallback((e=>r(n,e)),[n,r]),g=v.useCallback((e=>s(n,e)),[n,s]),y=Math.max(28.84375,u.width),j=d[3]===o.black?"#003670":o.white;return h.jsxs("g",{id:n,transform:`translate(${t}, ${l})`,onPointerDown:p,onPointerMove:f,onPointerUp:g,style:{cursor:"move"},children:[h.jsx("rect",{fill:d[2],x:"0",width:y+4,height:"16",rx:"2"}),h.jsxs("g",{ref:m,children:[h.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:(y+4)/2,y:"8",fontSize:"7",fill:j,children:c[0]}),h.jsx("text",{className:"rmp-name__en",textAnchor:"middle",x:(y+4)/2,y:"13.5",fontSize:"4",fill:j,children:c[1]})]})]})},icon:h.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[h.jsx("rect",{fill:"currentColor",x:"2",y:"6",width:"20",height:"12",rx:"2"}),h.jsx("text",{x:"3",y:"12",fontSize:"6",fill:"white",children:"八通线"}),h.jsx("text",{x:"3",y:"16",fontSize:"3.2",fill:"white",children:"Batong Line"})]}),defaultAttrs:q,attrsComponent:()=>h.jsx(t,{fields:O}),metadata:{displayName:"panel.details.nodes.bjsubwayTextLineBadge.displayName",tags:[]}},I={num:1,branch:!1,color:[l.Suzhou,"sz1","#78BA25",o.white]},Q=[{type:"input",label:"panel.details.nodes.common.num",value:e=>(null!=e?e:I).num,validator:e=>!Number.isNaN(e),onChange:(e,n)=>{const t=null!=n?n:I;return Number.isNaN(e)||(t.num=Number(e)),t}},{type:"switch",label:"panel.details.nodes.suzhouRTNumLineBadge.branch",isChecked:e=>{var n;return null!==(n=null==e?void 0:e.branch)&&void 0!==n?n:I.branch},onChange:(e,n)=>{const t=null!=n?n:I;return t.branch=e,t}},{type:"custom",label:"color",component:h.jsx(a,{type:i.SuzhouRTNumLineBadge,defaultTheme:I.color})}],V={component:e=>{const{id:n,x:t,y:l,attrs:o,handlePointerDown:a,handlePointerMove:i,handlePointerUp:r}=e,{num:s=I.num,branch:c=I.branch,color:d=I.color}=null!=o?o:I,m=v.useCallback((e=>a(n,e)),[n,a]),u=v.useCallback((e=>i(n,e)),[n,i]),x=v.useCallback((e=>r(n,e)),[n,r]);return h.jsxs("g",{id:n,transform:`translate(${t}, ${l})`,onPointerDown:m,onPointerMove:u,onPointerUp:x,style:{cursor:"move"},children:[h.jsx("rect",{fill:d[2],width:"20",height:"20",rx:"2",ry:"2"}),h.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",dominantBaseline:"middle",x:"10",y:"11.4",fill:d[3],fontSize:"15",letterSpacing:"-1",children:s}),c&&h.jsxs(h.Fragment,{children:[h.jsx("text",{className:"rmp-name__zh",x:22.5,y:"10",fontSize:"10",children:"支线"}),h.jsx("text",{className:"rmp-name__en",x:22.5,y:"18",fontSize:"5",fill:"gray",children:"Branch line"})]})]})},icon:h.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[h.jsx("rect",{fill:"currentColor",x:"4",y:"4",width:"16",height:"16",rx:"3",ry:"3"}),h.jsx("text",{x:"12",y:"13.4",textAnchor:"middle",dominantBaseline:"middle",fill:"white",fontSize:"14",children:"1"})]}),defaultAttrs:I,attrsComponent:()=>h.jsx(t,{fields:Q}),metadata:{displayName:"panel.details.nodes.suzhouRTNumLineBadge.displayName",tags:[]}},H={num:1,color:[l.Berlin,"bu1","#62AD2D",o.white]},J=[{type:"input",label:"panel.details.nodes.common.num",value:e=>(null!=e?e:H).num,validator:e=>!Number.isNaN(e),onChange:(e,n)=>{const t=null!=n?n:H;return Number.isNaN(e)||(t.num=Number(e)),t}},{type:"custom",label:"color",component:h.jsx(a,{type:i.BerlinUBahnLineBadge,defaultTheme:H.color})}],Z={component:e=>{const{id:n,x:t,y:l,attrs:o,handlePointerDown:a,handlePointerMove:i,handlePointerUp:r}=e,{num:s=H.num,color:c=H.color}=null!=o?o:H,d=v.useCallback((e=>a(n,e)),[n,a]),m=v.useCallback((e=>i(n,e)),[n,i]),u=v.useCallback((e=>r(n,e)),[n,r]),x=c[3];return h.jsxs("g",{id:n,transform:`translate(${t}, ${l})`,onPointerDown:d,onPointerMove:m,onPointerUp:u,style:{cursor:"move"},children:[h.jsx("rect",{fill:c[2],x:"0",width:"25",height:"15"}),h.jsxs("text",{className:"rmp-name__berlin",textAnchor:"middle",x:"12.5",y:"12.5",fill:x,fontSize:"14",letterSpacing:"1",children:["U",s]})]})},icon:h.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[h.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"20",height:"16"}),h.jsx("text",{x:"4",y:"17",fill:"white",fontSize:"14",children:"U1"})]}),defaultAttrs:H,attrsComponent:()=>h.jsx(t,{fields:J}),metadata:{displayName:"panel.details.nodes.berlinUBahnLineBadge.displayName",tags:[]}},G={num:1,color:[l.Berlin,"bs1","#DD6CA6",o.white]},K=[{type:"input",label:"panel.details.nodes.common.num",value:e=>(null!=e?e:G).num,validator:e=>!Number.isNaN(e),onChange:(e,n)=>{const t=null!=n?n:G;return Number.isNaN(e)||(t.num=Number(e)),t}},{type:"custom",label:"color",component:h.jsx(a,{type:i.BerlinSBahnLineBadge,defaultTheme:G.color})}],Y={component:e=>{const{id:n,x:t,y:l,attrs:o,handlePointerDown:a,handlePointerMove:i,handlePointerUp:r}=e,{num:s=G.num,color:c=G.color}=null!=o?o:G,[d,m]=s>=10?[6,19.75]:[10,20],u=v.useCallback((e=>a(n,e)),[n,a]),x=v.useCallback((e=>i(n,e)),[n,i]),p=v.useCallback((e=>r(n,e)),[n,r]),f=c[3];return h.jsxs("g",{id:n,transform:`translate(${t}, ${l})`,onPointerDown:u,onPointerMove:x,onPointerUp:p,style:{cursor:"move"},children:[h.jsx("rect",{fill:c[2],x:"0",width:"30",height:"15",rx:"8"}),h.jsx("text",{className:"rmp-name__berlin",textAnchor:"middle",x:d,y:"12.5",fill:f,fontSize:"14",letterSpacing:"0",children:"S"}),h.jsx("text",{className:"rmp-name__berlin",textAnchor:"middle",x:m,y:"12.5",fill:f,fontSize:"14",letterSpacing:"-0.2",children:s})]})},icon:h.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[h.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"20",height:"16",rx:"8"}),h.jsx("text",{x:"4.5",y:"16.5",fill:"white",fontSize:"14",children:"S1"})]}),defaultAttrs:G,attrsComponent:()=>h.jsx(t,{fields:K}),metadata:{displayName:"panel.details.nodes.berlinSBahnLineBadge.displayName",tags:[]}},X={num:1,color:[l.Chongqing,"cq1","#e4002b",o.white]},ee=[{type:"input",label:"panel.details.nodes.common.num",value:e=>(null!=e?e:X).num,validator:e=>!Number.isNaN(e),onChange:(e,n)=>{const t=null!=n?n:X;return Number.isNaN(Number(e))?t.num=e:t.num=Number(e),t}},{type:"custom",label:"color",component:h.jsx(a,{type:i.ChongqingRTNumLineBadge,defaultTheme:X.color})}],ne={component:e=>{const{id:n,x:t,y:l,attrs:o,handlePointerDown:a,handlePointerMove:i,handlePointerUp:r}=e,{num:s=X.num,color:c=X.color}=null!=o?o:X,d=v.useCallback((e=>a(n,e)),[n,a]),m=v.useCallback((e=>i(n,e)),[n,i]),u=v.useCallback((e=>r(n,e)),[n,r]),x=c[3],p=Number.isInteger(s)?16:15,[f,g]=Number.isInteger(s)?Number(s)>=10?[-1.2,1.5]:[0,5.5]:[0,2.55];return h.jsxs("g",{id:n,transform:`translate(${t}, ${l})`,onPointerDown:d,onPointerMove:m,onPointerUp:u,style:{cursor:"move"},children:[h.jsx("rect",{fill:c[2],x:"0",width:"20",height:"20",rx:"10",ry:"10"}),h.jsx("text",{className:"rmp-name__zh",textAnchor:"left",x:g,y:"10",fill:x,fontSize:p,letterSpacing:f,dominantBaseline:"central",children:s})]})},icon:h.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[h.jsx("rect",{fill:"currentColor",x:"2",y:"2",rx:"10",ry:"10",width:"20",height:"20"}),h.jsx("text",{x:"8",y:"18",fill:"white",fontSize:"18",children:"1"})]}),defaultAttrs:X,attrsComponent:()=>h.jsx(t,{fields:ee}),metadata:{displayName:"panel.details.nodes.chongqingRTNumLineBadge.displayName",tags:[]}},te={names:["空港线","Konggang Line"],color:[l.Chongqing,"cq3","#003da5",o.white]},le=[{type:"input",label:"panel.details.nodes.common.nameZh",value:e=>(null!=e?e:te).names[0],onChange:(e,n)=>{const t=null!=n?n:te;return t.names[0]=e.toString(),t}},{type:"textarea",label:"panel.details.nodes.common.nameEn",value:e=>(null!=e?e:te).names[1],onChange:(e,n)=>{const t=null!=n?n:te;return t.names[1]=e.toString(),t}},{type:"custom",label:"color",component:h.jsx(a,{type:i.ChongqingRTTextLineBadge,defaultTheme:te.color})}],oe={component:e=>{const{id:n,x:t,y:l,attrs:o,handlePointerDown:a,handlePointerMove:i,handlePointerUp:r}=e,{names:s=te.names,color:c=te.color}=null!=o?o:te,d=v.useRef(null),m=v.useCallback((e=>a(n,e)),[n,a]),u=v.useCallback((e=>i(n,e)),[n,i]),x=v.useCallback((e=>r(n,e)),[n,r]),p=c[3];return h.jsxs("g",{id:n,transform:`translate(${t}, ${l})`,onPointerDown:m,onPointerMove:u,onPointerUp:x,style:{cursor:"move"},children:[h.jsx("rect",{fill:c[2],x:"0",width:"20",height:"20",rx:"10",ry:"10"}),h.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:"10",y:"10.5",fill:p,fontSize:"6",letterSpacing:"0",children:s[0]}),h.jsx(S,{ref:d,text:s[1].split("\n"),className:"rmp-name__en",textAnchor:"middle",x:"10",y:"9.25",fill:p,fontSize:"2.5",letterSpacing:"0",lineHeight:2.25,grow:"down"})]})},icon:h.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[h.jsx("rect",{fill:"currentColor",x:"2",y:"2",rx:"10",ry:"10",width:"20",height:"20"}),h.jsx("text",{x:"4.5",y:"12.5",fill:"white",fontSize:"5",children:"空港线"}),h.jsx("text",{x:"4.5",y:"15",fill:"white",fontSize:"2",children:"Konggang Line"})]}),defaultAttrs:te,attrsComponent:()=>h.jsx(t,{fields:le}),metadata:{displayName:"panel.details.nodes.chongqingRTTextLineBadge.displayName",tags:[]}},ae=11.84375,ie={num:1,color:[l.Shenzhen,"sz1","#00b140",o.white],isBranch:!1},re={component:e=>{const{id:n,x:t,y:l,attrs:a,handlePointerDown:i,handlePointerMove:r,handlePointerUp:s}=e,{num:c=ie.num,color:d=ie.color,isBranch:m=ie.isBranch}=null!=a?a:ie,u=v.useCallback((e=>i(n,e)),[n,i]),x=v.useCallback((e=>r(n,e)),[n,r]),p=v.useCallback((e=>s(n,e)),[n,s]),f=d[3]===o.black?"#003670":o.white,g=m?10:ae+(c>9?6.5:3),y=m?-1:0,j=m?11:ae+(c>9?7:3.5),b=m?6:9.921875;return h.jsxs("g",{id:n,transform:`translate(${t}, ${l})`,onPointerDown:u,onPointerMove:x,onPointerUp:p,style:{cursor:"move"},children:[h.jsx("rect",{fill:d[2],x:"0",width:32.84375,height:"16",rx:"2"}),h.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:b,y:"13.5",fill:f,fontSize:"15",letterSpacing:"-1",children:c}),h.jsxs("text",{className:"rmp-name__zh",x:g,y:"9.5",fontSize:"6",fill:f,letterSpacing:y,children:["号线",m?"支线":""]}),h.jsxs("text",{className:"rmp-name__en",x:j,y:"13.5",fontSize:"3",fill:f,children:[m?"Branch":""," Line ",c]})]})},icon:h.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[h.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"20",height:"16",rx:"2"}),h.jsx("text",{x:"4",y:"17",fill:"white",fontSize:"14",children:"1"}),h.jsx("text",{x:"11",y:"14",fill:"white",fontSize:"5",children:"号线"}),h.jsx("text",{x:"12",y:"17",fill:"white",fontSize:"3",children:"Line 1"})]}),defaultAttrs:ie,attrsComponent:e=>{const{id:n,attrs:t,handleAttrsUpdate:l}=e,{t:o}=N(),s=[{type:"input",label:o("panel.details.nodes.common.num"),value:String(t.num),validator:e=>!Number.isNaN(e),onChange:e=>{t.num=Number(e),l(n,t)},minW:"full"},{type:"custom",label:o("color"),component:h.jsx(a,{type:i.ShenzhenMetroNumLineBadge,defaultTheme:ie.color}),minW:"full"},{type:"switch",label:o("panel.details.nodes.shenzhenMetroNumLineBadge.branch"),oneLine:!0,isChecked:t.isBranch,onChange:e=>{t.isBranch=e,l(n,t)},minW:"full"}];return h.jsx(r,{fields:s})},metadata:{displayName:"panel.details.nodes.shenzhenMetroNumLineBadge.displayName",tags:[]}},se={num:1,color:[l.Singapore,"ewl","#009739",o.white]},ce={component:e=>{const{id:n,x:t,y:l,attrs:o,handlePointerDown:a,handlePointerMove:i,handlePointerUp:r}=e,{num:s=se.num,color:c=se.color}=null!=o?o:se,d=v.useCallback((e=>a(n,e)),[n,a]),m=v.useCallback((e=>i(n,e)),[n,i]),u=v.useCallback((e=>r(n,e)),[n,r]),x=c[3],p=c[2];return h.jsxs("g",{id:n,transform:`translate(${t}, ${l})`,onPointerDown:d,onPointerMove:m,onPointerUp:u,style:{cursor:"move"},children:[h.jsx("circle",{r:"8",fill:p}),h.jsx("text",{className:"rmp-name__mrt",textAnchor:"middle",x:"0",y:"0",width:"12",height:"12",fill:x,fontSize:"12",dominantBaseline:"central",letterSpacing:"-0.2",children:s})]})},icon:h.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[h.jsx("rect",{fill:"currentColor",x:"2",y:"2",rx:"10",ry:"10",width:"20",height:"20"}),h.jsx("text",{x:"9",y:"17",fill:"white",fontSize:"14",children:"1"})]}),defaultAttrs:se,attrsComponent:e=>{const{id:n,attrs:t,handleAttrsUpdate:l}=e,{t:o}=N(),s=[{type:"input",label:o("panel.details.nodes.common.num"),value:String(t.num),validator:e=>!Number.isNaN(e),onChange:e=>{t.num=Number(e),l(n,t)},minW:"full"},{type:"custom",label:o("color"),component:h.jsx(a,{type:i.MRTDestinationNumbers,defaultTheme:se.color}),minW:"full"}];return h.jsx(r,{fields:s})},metadata:{displayName:"panel.details.nodes.mrtDestinationNumbers.displayName",tags:[]}},de=5*Math.SQRT1_2,me=.25,he=(de*Math.SQRT2-me)/2*Math.SQRT2,ue={names:["山手線","Yamanote Line"],color:[l.Tokyo,"jy","#9ACD32",o.black],num:9,crosshatchPatternFill:!1},xe={component:e=>{const{id:n,x:t,y:l,attrs:o,handlePointerDown:a,handlePointerMove:i,handlePointerUp:r}=e,{names:s=ue.names,num:c=ue.num,color:d=ue.color,crosshatchPatternFill:m=ue.crosshatchPatternFill}=null!=o?o:ue,u=v.useRef(null),[x,p]=v.useState({height:10,width:12});v.useEffect((()=>p(u.current.getBBox())),[...s,p,u]);const f=v.useCallback((e=>a(n,e)),[n,a]),g=v.useCallback((e=>i(n,e)),[n,i]),y=v.useCallback((e=>r(n,e)),[n,r]);return h.jsxs("g",{id:n,transform:`translate(${t}, ${l})`,onPointerDown:f,onPointerMove:g,onPointerUp:y,style:{cursor:"move"},children:[h.jsxs("defs",{children:[h.jsxs("clipPath",{id:"jr_east_fill_pattern_clip_path",patternUnits:"userSpaceOnUse",children:[h.jsx("polygon",{points:`0,0 0,${he} ${he},0`}),h.jsx("polygon",{points:`${de},${de} ${de-he},${de} ${de},${de-he}`})]}),h.jsxs("pattern",{id:`jr_east_${n}_fill_pattern_${d[2]}`,width:de,height:de,patternUnits:"userSpaceOnUse",children:[h.jsx("rect",{width:de,height:de,fill:d[2]}),h.jsx("line",{x1:"0",y1:"0",x2:de,y2:de,stroke:"white",strokeWidth:me,strokeOpacity:"33%",clipPath:"url(#jr_east_fill_pattern_clip_path)"}),h.jsx("line",{x1:de,y1:"0",x2:"0",y2:de,stroke:"white",strokeWidth:me,strokeOpacity:"33%"})]})]}),h.jsx("rect",{fill:m?`url(#jr_east_${n}_fill_pattern_${d[2]})`:d[2],x:"0",y:"-1",width:x.width+4+10,height:x.height+1,rx:"1",stroke:"black",strokeWidth:"0.25"}),h.jsx("circle",{r:4,cx:7,cy:6,stroke:"black",strokeWidth:"0.25",fill:d[3]}),h.jsx("text",{x:7,y:6.75,textAnchor:"middle",dominantBaseline:"middle",fill:"#000"===d[3]?"white":d[2],fontSize:c>9?7:8,className:"rmp-name__jreast_en",children:c}),h.jsx(S,{ref:u,text:s[0].split("\\"),x:12,y:"-1",fill:d[3],fontSize:10,lineHeight:10,grow:"down",className:"rmp-name__jreast_ja"}),h.jsx(S,{text:s[1].split("\\"),textAnchor:"middle",dominantBaseline:"hanging",x:(x.width+4+10)/2,y:x.height+1,fontSize:5,lineHeight:5,baseOffset:0,grow:"down",className:"rmp-name__jreast_en"})]})},icon:h.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[h.jsx("rect",{fill:"currentColor",x:"1",y:"6",width:"22",height:"7"}),h.jsx("circle",{cx:"3.5",cy:"9.25",r:"2",fill:"white"}),h.jsx("text",{x:"3",y:"10.5",fontSize:"3",children:"9"}),h.jsx("text",{x:"6",y:"11.25",fontSize:"5",fill:"white",children:"山手線"}),h.jsx("text",{x:"1.5",y:"16",fontSize:"3",children:"Yamanote Line"})]}),defaultAttrs:ue,attrsComponent:e=>{const{id:n,attrs:t,handleAttrsUpdate:l}=e,{t:o}=N(),s=[{type:"input",label:o("panel.details.nodes.common.num"),value:String(t.num),validator:e=>!Number.isNaN(e),onChange:e=>{t.num=Number(e),l(n,t)},minW:"full"},{type:"textarea",label:o("panel.details.nodes.common.nameJa"),value:t.names[0].replaceAll("\\","\n"),onChange:e=>{t.names[0]=e.replaceAll("\n","\\"),l(n,t)},minW:"full"},{type:"textarea",label:o("panel.details.nodes.common.nameEn"),value:t.names[1].replaceAll("\\","\n"),onChange:e=>{t.names[1]=e.replaceAll("\n","\\"),l(n,t)},minW:"full"},{type:"switch",label:o("panel.details.nodes.jrEastLineBadge.crosshatchPatternFill"),oneLine:!0,isChecked:t.crosshatchPatternFill,onChange:e=>{t.crosshatchPatternFill=e,l(n,t)},minW:"full"},{type:"custom",label:o("color"),component:h.jsx(a,{type:i.JREastLineBadge,defaultTheme:ue.color})}];return h.jsx(r,{fields:s})},metadata:{displayName:"panel.details.nodes.jrEastLineBadge.displayName",tags:[]}},pe={num:1,numEn:"1",showText:!0,color:[l.Qingdao,"qd1","#f7b000",o.white]},fe={component:e=>{const{id:n,x:t,y:l,attrs:o,handlePointerDown:a,handlePointerMove:i,handlePointerUp:r}=e,{num:s=pe.num,numEn:c=pe.numEn,color:d=pe.color,showText:m=pe.showText}=null!=o?o:pe,u=v.useCallback((e=>a(n,e)),[n,a]),x=v.useCallback((e=>i(n,e)),[n,i]),p=v.useCallback((e=>r(n,e)),[n,r]),f=d[3],[g,y,j,b]=Number(s)>=10?[-2.4,0,10.25,20]:[0,4,10,22];return h.jsxs("g",{id:n,transform:`translate(${t}, ${l})`,onPointerDown:u,onPointerMove:x,onPointerUp:p,style:{cursor:"move"},children:[h.jsx("rect",{fill:d[2],x:"0",width:"20",height:"20",rx:"2",ry:"2"}),h.jsx("text",{className:"rmp-name__zh",textAnchor:"left",x:y,y:j,fill:f,fontSize:b,fontWeight:"bold",letterSpacing:g,dominantBaseline:"central",children:s}),m&&h.jsxs(h.Fragment,{children:[h.jsx("text",{className:"rmp-name__zh",x:"22",y:"10.5",fontSize:"13",children:"号线"}),h.jsxs("text",{className:"rmp-name__en",x:"22.5",y:"19.5",fontSize:"8",children:["Line ",c]})]})]})},icon:h.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[h.jsx("rect",{fill:"currentColor",x:"2",y:"6",rx:"1",ry:"1",width:"10",height:"10"}),h.jsx("text",{x:"4",y:"15",fill:"white",fontSize:"12",children:"1"}),h.jsx("text",{x:"12",y:"11.5",fill:"black",fontSize:"6",children:"号线"}),h.jsx("text",{x:"12",y:"15.5",fill:"black",fontSize:"4",children:"Line1"})]}),defaultAttrs:pe,attrsComponent:e=>{const{id:n,attrs:t,handleAttrsUpdate:l}=e,{t:o}=N(),s=[{type:"input",label:o("panel.details.nodes.common.num"),value:t.num.toString(),onChange:e=>{t.num=Number(e),t.numEn=e,l(n,t)}},{type:"input",label:o("panel.details.nodes.qingdaoMetroNumLineBadge.numEn"),value:t.numEn.toString(),onChange:e=>{t.numEn=e,l(n,t)}},{type:"switch",label:o("panel.details.nodes.qingdaoMetroNumLineBadge.showText"),isChecked:t.showText,oneLine:!0,onChange:e=>{t.showText=e,l(n,t)}},{type:"custom",label:o("color"),component:h.jsx(a,{type:i.QingdaoMetroNumLineBadge,defaultTheme:pe.color})}];return h.jsx(r,{fields:s,minW:"full"})},metadata:{displayName:"panel.details.nodes.qingdaoMetroNumLineBadge.displayName",tags:[]}},ge={contents:{},...P},ye={component:e=>{const{id:n,x:t,y:l,attrs:o,handlePointerDown:a,handlePointerMove:i,handlePointerUp:r}=e,s=z();o.content=s(o.contents);const c=B.component;return h.jsx(c,{id:n,x:t,y:l,handlePointerDown:a,handlePointerMove:i,handlePointerUp:r,attrs:o})},icon:B.icon,defaultAttrs:ge,attrsComponent:B.attrsComponent,metadata:{displayName:"panel.details.nodes.i18nText.displayName",tags:[]}},je=e=>{const{isOpen:n,onClose:t,onSubmit:l}=e,{t:o}=N(),[a,i]=v.useState(""),[s,c]=v.useState(""),d=[{type:"textarea",label:o("Paste json from RMP style generator"),value:a.toString(),onChange:e=>i(e),minW:"full"}];return v.useEffect((()=>c("")),[n]),h.jsxs(p,{isOpen:n,onClose:t,size:"xl",scrollBehavior:"inside",children:[h.jsx(f,{}),h.jsxs(g,{children:[h.jsx(y,{children:o("Upload master parameter")}),h.jsx(j,{}),h.jsxs(b,{children:[h.jsx(r,{fields:d}),h.jsx("span",{style:{color:"red"},children:s})]}),h.jsxs(w,{children:[h.jsx(x,{colorScheme:"blue",variant:"outline",mr:"1",onClick:t,children:o("cancel")}),h.jsx(x,{colorScheme:"blue",variant:"outline",mr:"1",onClick:()=>{try{l(a)}catch(e){return void c("Something went wrong.")}t()},children:o("apply")})]})]})]})},be={component:e=>{const{id:n,x:t,y:l,attrs:o,handlePointerDown:a,handlePointerMove:i,handlePointerUp:r}=e,s=v.useCallback((e=>a(n,e)),[n,a]),c=v.useCallback((e=>i(n,e)),[n,i]),d=v.useCallback((e=>r(n,e)),[n,r]),m=(e,...n)=>new Function(...n,`return ${e}`),u="MiscNode"===o.nodeType?{onPointerDown:s,onPointerMove:c,onPointerUp:d,style:{cursor:"move"}}:{},x=e=>e.map((e=>{var t,l;const a="Station"===o.nodeType&&o.core&&o.core===e.id?{id:`stn_core_${n}`,onPointerDown:s,onPointerMove:c,onPointerUp:d,style:{cursor:"move"}}:{},i=((e,n,t)=>{const l={};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r))try{var a;l[r]=m(e[r].slice(1),...o.components.map((e=>e.label)),"color")(...n.map(((e,n)=>"number"!==t[n]||Number.isNaN(Number(e))?e:Number(e))),o.color?null!==(a=o.color.value)&&void 0!==a?a:o.color.defaultValue:"")}catch(i){l[r]=""}return l})(e.attrs,o.components.map((e=>e.value)),o.components.map((e=>e.type)));return h.jsx("g",{transform:`translate(${null!==(t=i.x)&&void 0!==t?t:0}, ${null!==(l=i.y)&&void 0!==l?l:0})`,children:v.createElement(e.type,{...i,x:0,y:0,...a},e.children?x(e.children):"_rmp_children_text"in i?i._rmp_children_text:null)},e.id)}));return v.createElement("g",{id:n,transform:`translate(${t}, ${l})`,...u},"undefined"!==o.randomId?x(o.svgs):h.jsxs(h.Fragment,{children:[h.jsx("circle",{r:5}),h.jsx("text",{x:-3.75,y:3,fill:"white",fontSize:"8",fontWeight:"bold",children:"M"})]}))},icon:h.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[h.jsx("circle",{cx:"12",cy:"12",r:"6",stroke:"currentColor",fill:"none"}),h.jsx("text",{x:"8.5",y:"15",fill:"currentColor",fontSize:"8",children:"M"})]}),defaultAttrs:{randomId:"undefined",nodeType:"MiscNode",svgs:[],components:[]},attrsComponent:e=>{var n;const{id:t,attrs:l,handleAttrsUpdate:o}=e,a=s(),i=u(),{paletteAppClip:{output:p}}=c((e=>e.runtime)),{t:f}=N(),[g,y]=v.useState(!1),j=[{type:"output",label:"Master Type",value:l.randomId},{type:"custom",label:"",component:h.jsx(x,{onClick:()=>y(!0),children:"Upload"}),oneLine:!0}],b=l.components.map(((e,n)=>{const{label:a,type:i,defaultValue:r,value:s}=e;return"number"===i||"text"===i?{label:a,type:"input",value:null!=s?s:r,onChange:e=>{l.components[n].value=e,o(t,{...l,components:l.components})}}:"switch"===i?{label:a,type:"switch",isChecked:"true"===(null!=s?s:r),onChange:e=>{l.components[n].value=e,o(t,{...l,components:l.components})}}:"textarea"===i?{label:a,type:"textarea",value:null!=s?s:r,onChange:e=>{l.components[n].value=e,o(t,{...l,components:l.components})}}:{type:"input",label:"undefined",value:"none"}})),[w,C]=v.useState(!1);v.useEffect((()=>{l.color&&w&&p&&(l.color.value=p,o(t,{...l,color:l.color}),C(!1))}),[null==p?void 0:p.toString()]);const S=[{type:"custom",label:f("color"),component:h.jsx(d,{theme:null===(n=l.color)||void 0===n?void 0:n.value,onClick:()=>{var e;C(!0),a(m(null===(e=l.color)||void 0===e?void 0:e.value))}})}];return h.jsxs(h.Fragment,{children:[h.jsx(r,{fields:j}),"undefined"!==l.randomId&&h.jsx(r,{fields:b,minW:"full"}),"undefined"!==l.randomId&&void 0!==l.color&&h.jsx(r,{fields:S,minW:"full"}),h.jsx(je,{isOpen:g,onClose:()=>y(!1),onSubmit:e=>{const n=JSON.parse(e),a={randomId:n.id,nodeType:n.type,svgs:n.svgs,components:n.components,color:n.color,core:n.core,version:n.version};a.version?(a.components.forEach(((e,n)=>{var t,o;a.components[n].value=null!==(o=e.id,t=void l.components.forEach((e=>{var n;if(e.id===o)return null!==(n=e.value)&&void 0!==n?n:e.defaultValue})))&&void 0!==t?t:e.defaultValue})),void 0!==a.color&&(a.color.value=l.color?l.color.value:a.color.defaultValue),o(t,a)):i({title:"Outdated configuration!",status:"error",duration:9e3,isClosable:!0})}})]})},metadata:{displayName:"panel.details.nodes.master.displayName",tags:[]}};e("m",{[i.Virtual]:n,[i.ShmetroNumLineBadge]:M,[i.ShmetroTextLineBadge]:T,[i.GzmtrLineBadge]:$,[i.BjsubwayNumLineBadge]:R,[i.BjsubwayTextLineBadge]:F,[i.SuzhouRTNumLineBadge]:V,[i.BerlinSBahnLineBadge]:Y,[i.BerlinUBahnLineBadge]:Z,[i.ChongqingRTNumLineBadge]:ne,[i.ChongqingRTTextLineBadge]:oe,[i.ShenzhenMetroNumLineBadge]:re,[i.MRTDestinationNumbers]:ce,[i.JREastLineBadge]:xe,[i.QingdaoMetroNumLineBadge]:fe,[i.Facilities]:_,[i.Text]:B,[i.I18nText]:ye,[i.Master]:be})}}}));
